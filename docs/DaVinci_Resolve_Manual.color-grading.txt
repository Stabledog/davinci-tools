Searching For Stills                                                                                                 COLOR

Once labeled, you can search for stills you need in the Gallery.

     To search for a still by label:
     Click the Magnifying Glass button to open the Search field, click to place the cursor within,
     and then type the name or description you are searching for.
     As soon as you start typing, DaVinci Resolve automatically begins to filter the results of the
     currently selected album in the Gallery to match what's been typed.

Match Reference Wipe Frame

You can right-click any Gallery still and choose Match Reference Wipe Frame to automatically
move the playhead to the exact frame that corresponds to that still, and select that clip in the
Color page Timeline.

Gallery Options

In the upper right corner of the Gallery palette there are several options that let you adjust the view
and organization of your stills.

   Still Size Slider: Dragging this slider to the left makes the still thumbnails smaller, dragging it to the
     right makes them larger.

   Sort Stills: Choosing an option from this submenu changes the sort order of all clips in the Gallery.
     The options are:
     Still ID: Sorts all stills by their assigned ID number (track, clip number, grade version).
     Label: Sorts all stills by their text label.
     Record Timecode: Sorts all stills by their position in the program.
     Source Timecode: Sorts all stills by the timecode of the source clip they came from.
     Grab Date: Sorts all stills by the date they were originally grabbed.
     Create Time: Sorts stills based on when you saved each still.

   Thumbnail View: Pressing this icon puts the gallery in Thumbnail view; each still is represented
     by an image.

   List View: Pressing this icon puts the gallery in List view; each still is represented by
     columns of text attributes.

   Search: Opens up a search dialog box, to find stills based on their text label.
   Gallery View: Opens up the full Gallery Management window.

                       The Gallery options (L-R): Still Size Slider, Sort Stills,
                       Thumbnail, List, Search, Expand, Options

Color|Chapter 141Using the Gallery                                                                             3263
When you right-click the gray area of the Gallery, behind the Still icons, you can open a contextual                   COLOR
menu that provides a variety of additional options for controlling how many stills are saved, how
they're displayed, and how they're arranged in the Gallery. There are the following options:

   Switch Wipe Mode: Switches the Reference mode between showing a "Gallery" still, a "Timeline"
     clip, or an "Offline" reference movie.

   Trace Timeline: When enabled, selecting a clip in the Timeline also automatically selects the first
     still that was saved from that clip to the Gallery.

   One Still Per Scene: When enabled, restricts the Gallery to save only a single still for each clip in
     the Timeline. If multiple stills have already been saved before turning this option on, those stills
     will remain in the Gallery until you save another still from the same clip, at which time all other stills
     from that clip will disappear.

   Apply Display LUT: If you have a Display LUT selected in the Lookup Tables panel of the Color
     Management panel of the Project Settings, it's applied to the video output via a connected video
     interface, and also to the Viewer. Ordinarily, you don't also want the Display LUT applied to stills
     you're saving since it's meant to be temporary. Accordingly, stills are saved with a LUT-free image.
     However, in instances where you may also want to save a reference to the currently used Display
     LUT, turning on "Apply Display LUT" saves the Display LUT along with the still, and applies that LUT
     when that still is used for split-screen reference. Keep in mind that the internally saved Display LUT
     is only used when playing that still in the Viewer; the DPX image that's saved remains unaffected.

   Apply Grades Using: This submenu contains three options for how to apply the keyframes that are
     automatically saved within each saved grade.

     No Keyframes: No keyframes are copied. The state of the grade at the frame used to save the still
     is what is applied to the target clip or clips.

     Keyframes Aligning Source Timecode: Keyframes are copied aligning the source timecode of
     the saved grade with the source timecode of the target clip. This is the ideal setting when you're
     copying a grade back to the clip it came from originally, or to a duplicate of that clip elsewhere in
     the Timeline, and you want the keyframes to align with the same frames as before. If there is no
     source timecode overlap, keyframes will be pasted aligning with the start frame of the edit, the
     same as the third option (below).

     Keyframes Aligning Start Frames: Keyframes are copied aligning the start frame of the clip
     that still was saved from with the start frame of the target clip. This is the ideal setting when
     you're copying a grade with keyframes from one clip to a completely different clip, with
     different timecode.

   Use labels on still export: Lets you use labels that you've added to stills in the file name of
     exported stills.

   Show All Stills: This command shows all available stills in the current album if any have been
     hidden, for example by searching or by using the Show Current Timeline Only command.

   Show Current Timeline Only: Choosing this option restricts the Gallery to only showing the stills
     that were saved from the currently selected Timeline. All other stills from other Timelines are
     hidden until you switch to that Timeline.

     NOTE:There are a variety of other commands available in this contextual menu that are
     covered elsewhere in this chapter.

Color|Chapter 141Using the Gallery                                                                               3264
Organizing Stills Using Albums

All stills you save are always placed into the currently open album of the Gallery, which defaults for
new projects to "Stills 1." However, you can create additional albums with which to organize your stills
into whatever categories you require. Albums can be shown, created, and removed using the Gallery
in either the Color page or Gallery windows.

Use albums to organize your stills                                                                                COLOR

     To show or hide the Albums list:
     Click the Album button, at the top left of the Gallery.

If the Albums list was hidden, clicking the Album button will make the Albums list appear, to the left of
the Gallery, containing all albums that are currently available in the project that's open, as well as the
PowerGrade album at the bottom. If the Albums list is already visible, then it becomes hidden, making
more room for still thumbnails in the Gallery.
Once you've displayed the Albums list, there are a variety of ways you can quickly and easily work
with albums.

Methods of working with albums:
   To add a new album: Right-click the Albums list, and choose Add Still Album from the contextual
     menu. A new album is created, numbered incrementally.
   To add a new PowerGrade album: Right-click the Albums list, and choose Add PowerGrade
     Album from the contextual menu. A new album is created, numbered incrementally.
   To rename an album: Double-click any album in the list, and when it is selected, type a new name
     and press Return.
   To navigate albums: Click any album to make it the current album. Using the DaVinci Resolve
     Advanced control panel, you can use the PREV PAGE/NEXT PAGE buttons to move up and
     down the Album list.
   To move clips from one album to another: Drag and drop a still from the Gallery to an album.
   To remove an album: Right-click any album, choose Remove Current Album, and click Delete at
     the prompt. All clips inside that album will be deleted along with the album, so use this carefully.

Color|Chapter 141Using the Gallery                                                                          3265
PowerGrade Albums

PowerGrade albums are meant to be repositories for grades you want to reuse frequently, or for stills
that you need to reference from multiple projects, such as when grading a series that shares common
looks from episode to episode.

PowerGrades are associated with your user login                                                                COLOR

Unlike stills saved to the other albums in the list, which are ordinarily available only to the project
in which they were saved, stills saved to a PowerGrade album are shared among all projects
that have been stored within a particular project library. Each project library has its own unique
PowerGrade album.
Creating a new project library creates a new PowerGrade album, which starts out as a clean slate.
However, you can always use the Gallery window to copy PowerGrade stills from other projects and
project libraries to the current one, and you can create as many PowerGrade albums as you need to
organize your grades.

     For more information about project management and project libraries, see Chapter 3,
     "Managing Projects and Project Libraries."

Functionally, PowerGrade albums are identical to any other album, and you can save, organize, and
use stills in PowerGrade albums as you would with other albums. Since PowerGrade albums are
special in that they're maintained by DaVinci Resolve, the last PowerGrade album cannot be deleted.

Color|Chapter 141Using the Gallery                                                                       3266
Browse all Grades
from the Current Timeline

The Gallery has a Timelines album, available at the bottom of the Album list, that lets you browse all
the grades in the current timeline, or in other timelines of the current project (using a drop-down menu
that appears at the top of the Gallery browser area), making it easy to copy grades from earlier or later
in your timeline, or from other timelines that share the same media.

This is particularly useful for reality shows or documentaries where the same clips can appear multiple
times in different parts of a program. Being able to simply show all existing grades in the Gallery frees
you from having to save a still for every grade you think you might eventually reuse.

The Timelines grade browser in the Gallery automatically shows all grades in the current timeline                COLOR

The Gallery Management Window

While you can do quite a lot of stills management using the Gallery as it appears in the Color page, the
Gallery window provides additional functionality for copying stills among different projects and project
libraries, for organizing your stills and memories, and for accessing the DaVinci Resolve looks that
accompany the application.

     To open the Gallery window:
     Click the Gallery View button at the upper right-hand corner of the Gallery or select
     Workspace > Gallery.

Color|Chapter 141Using the Gallery                                                                         3267
Gallery window                                                                                                          COLOR

The Gallery opens into a floating window, divided into four areas:
   Stills navigator: Lets you navigate the contents of other projects and project libraries that are
     available. Independent projects, as well as project library > user > project relationships, appear in
     this hierarchical list. Click the disclosure triangle next to any item on this list to reveal its contents.
     Click any project in the list to reveal its albums and stills in the Group Stills browser.
   Group Stills browser: Displays the contents of the currently selected item in the Stills navigator.
     One or more selected stills can be copied to the current project by selecting an album in
     the Project Stills browser, and dragging and dropping the selected stills to the Project Stills
     browsing area.
   Project Stills browser: Contains the same Album list and Project Stills browser that's visible in the
     Color page Gallery.
   Project Memories: Provides a larger view of the project memories that are visible in the
     Color page Gallery.

To resize different areas of the Gallery window:
   Move the pointer to the border between any areas of the Gallery. When the pointer changes to
     the resize cursor, drag the border to resize the adjacent interface areas to whatever size you need.
     Dragging all the way to the edge of the screen hides that interface area completely.

What's Available in the Stills Navigator

The Stills Navigator accesses a variety of content via a hierarchical list. Disclosure triangles to the
left of each item in the Stills browser let you access the contents of each item, and many items have
several nested levels of content within, each accessed by its own disclosure triangle.

Color|Chapter 141Using the Gallery                                                                                3268
The Gallery Stills project library show all projects connected so you can import those stills                     COLOR

     DaVinci Resolve looks: A collection of predefined grades, categorized by type, that provides
     excellent examples of different looks available in DaVinci Resolve. These grades are installed
     with DaVinci Resolve and cannot be altered.

     Project Libraries: Each project library that's available appears within this list. Each project
     library has a nested series of users, projects, and timelines within, as well as one nested
     PowerGrade item for each user, which provides access to the saved stills within.

     Orphans: Stills are saved to a separate directory which is defined in the Master Settings panel
     of the Project Settings. Whenever you delete a project library, the stills that corresponded to
     that project library become orphaned. All orphaned stills that lack a connection to any current
     project library appear within the Orphan item in the Stills Navigator.

Browse and Import Timeline Grades From Other Projects

The Gallery window lets you see and import grades in the timelines of other projects, even if they
weren't saved as stills first. When you open the Gallery Window and use the hierarchical disclosure
controls of the Stills panel to open up and select a specific Project Library > User > Project > Timeline,
you'll see at least three browsable albums to the right: the Stills galleries that were created, the
Memories, and at the bottom an album called Timeline Media. The Timeline Media album lets you
browse the currently used grades for every clip in that timeline, making it easy to copy the ones you
need to the current project's Stills album or Memories.

This is particularly useful if you're working on a series where and you find that you want to re-use
different grades, looks, adjustments, or fixes from previous episodes in the current one. Previously,
you'd have to remember to save every clip as a still to be able to browse the grades in this way. Now
you can simply browse the clips in the Timeline directly.

Color|Chapter 141Using the Gallery                                                                          3269
Browsing the timeline grades for another project in the project library                                         COLOR

Importing and Exporting Stills

It's possible to import still images in different graphics formats into the Gallery, which can be
particularly useful when a client provides reference images to which they'd like you to refer. It's also
possible to export stills from the Gallery, which is good for sending a series of reference stills for
approval to a remote client. In both cases, you can choose whether to import or export images with an
accompanying LUT.

For both import and export, DaVinci Resolve supports the following file formats: DPX, CIN, TIFF, JPEG,
PNG, PPM, BMP, and XPM.

To import one or more still images:
1 Right-click anywhere on the gray background of the Gallery.
2 Choose one of the following commands:

      Import: Imports image files, along with a matching DRX file, if one is present in
        the selected directory.

      Import With Output LUT: Imports an image and DRX file, along with a matching LUT file,
        if one is present in the selected directory.

3 When the Import Stills dialog appears, choose the type of files you want to import from the
     "Files of type" drop-down menu, then navigate to the files you want to import, select them,
     and click Import.

To export one or more still images:
1 If you want to export Gallery stills with labels that have been added to them, right-click anywhere

     in the background of the Gallery and choose "Use labels on still export" in the contextual menu so
     it becomes checked.
2 Select one or more stills in the Gallery.

Color|Chapter 141Using the Gallery                                                                        3270
3 Right-click one of the selected stills, and choose one of the following commands:
      Export: Two files are saved for each still you selected. An image file in the format of your choice,
        and a DRX (DaVinci Resolve eXchange) file that contains the grading metadata that was saved
        with that Gallery still.
      Export With Display LUT: If you have a Video Monitor Lookup Table specified for the current
        project in the Color Management panel of the Project Settings, this command will output the
        image as it is processed by the specified LUT. A DRX file is also output containing the grading
        metadata that was saved with that Gallery still.

4 When the Export Stills dialog appears, choose a file format to export to from the "Files of type"
     drop-down menu, then choose a location, type a name into the Save As field, and click Save.

     Each of the selected stills is exported with all accompanying files. Each file uses as its prefix the
     name you typed into the Export Stills dialog, followed by an underscore, the still ID number of the
     selected still, and the three-letter file extension.

To export the grade only (.DRX file) and no image:
Normally when you export a still from the Gallery, it exports both an image file and a .drx file that
contains the grade for that image. If you wish to export only the (.drx) grades from the Color Gallery,
and not the associated images, you can now do this by right-clicking on a a Gallery still or stills and
selecting Export from the drop-down menu. In the resulting file browser select .drx from the file format
selector, and press export.

Using and Organizing Memories

Stills and memories contain identical information, and can be split screened, copied, appended,
exported, and can display their node graph just like any other still. However, stills that are assigned as
a memory make them easier to access via keyboard shortcuts.

Memories are hidden by default, but you can reveal them by clicking the Memories button to the right
of the Gallery list button at the top-left of the Gallery.

                                                                                                                  COLOR

Place grades you will use often in Memories for faster recall

The Memories thumbnail display makes it easy to keep track of which stills have been assigned
to which memories in situations where you're using multiple memories to copy grades throughout
a program.

Color|Chapter 141Using the Gallery                                                                          3271
To copy stills and memories back and forth, do one of the following:
   Drag a still onto a memory bank.
   Drag a memory into the Gallery.

     TIP:In this way, memories can be used to copy stills from one album to another.

To save the current clip's grade to a memory for future use, do one of the following:
   Choose Color > Memories > Save Memory A­H (Option-1 through 8).
   Using the DaVinci Resolve Advanced control panel, press CRNT on the Search Dial panel, then
     press the letter of the memory bank you want to save to. Use the SHIFT UP and SHIFT DOWN
     buttons to save to another memory sharing the same button.
   If you save a grade to a memory that already contains something, the previous memory
     is overwritten.

To apply a memory to the current clip in a timeline:
   Right-click a memory and choose Apply Grade.

To clear a memory:
   Right-click a memory, then choose Clear.

                                                                                                      COLOR

Color|Chapter 141Using the Gallery                                                              3272
Chapter 142                                                                                                 COLOR

Grade Management

The Color page offers numerous ways of saving grades, copying grades, creating
and altering groups of clips to share grades, rippling grades and adjustments, and
managing multiple versions of grades.

All of these procedures enable you to work faster by leveraging work you've already done to apply to
other clips that can benefit from the same adjustments, or by applying changes across multiple clips
all at once.

Contents

Using Versions to Manage Grades3274
Choosing to Copy Grades Manually or Automatically Using Versions3274
Using Local Versions by Default3276
Using Remote Versions to Enable Automatic Linking3276
Creating a Master Timeline 3278
Working with Versions 3281
The Importance of "Version 1" 3283
Deleting Unused Versions 3284
Rendering Versions 3284
Copying Grades  3285
Protecting Adjustments with the Copy Grade Options 3285
Copy and Paste From One Clip to Another 3286
Copy and Paste Specific Parameters Using Paste Value 3286
Applying Saved Grades From the Gallery 3286
Preparing to Copy or Apply Grades 3287
Copying Grades Using the Pointer 3288
Copy Forward Commands 3288
Copying Using Memories 3289
Copying Using Preview Memory 3289
Copying from Stills in the Gallery3290
Append Node Graph3290
Aligning Keyframes to a Specific Frame While Copying Grades 3291

Color|Chapter 142Grade Management                                                                     3273
Copying Individual Nodes and Settings 3291                                                                     COLOR
Copying and Pasting All Settings From One Node to Another 3291
Paste Attributes on the Color Page 3292
Copying from the Node Graph of Other Clips or Gallery Stills 3292
Rippling Adjustments Among Multiple Clips3296
Appending a Node to Multiple Clips 3297
Using Shared Nodes 3297
What Are Shared Nodes Good For? 3298
Creating Shared Nodes 3298
Locking Shared Nodes 3298
Copying Shared Nodes 3298
Converting Shared Nodes Back to Corrector Nodes 3299
Deleting Shared Nodes 3299
Using Adjustment Clips3300
Using Groups 3301
Creating and Managing Groups 3302
Using Group Modes to Control Which Grades Ripple and Which Don't 3303
Collapse Group Grades3306
Exporting Grades and LUTs 3307

Using Versions to Manage Grades

Working quickly requires a mastery of the numerous grade management features built into DaVinci
Resolve. These features are designed to help you copy and ripple grades to individual clips, among
manually defined groups of clips via the Node Editor's Clip mode, or among automatically linked clips
that share the same source clip in the Media Pool (when using Remote versions). Multiple versions of
grades are supported for every clip, as are various options for previewing, overwriting, and appending
these versions.

Choosing to Copy Grades Manually
or Automatically Using Versions

Each grade you apply to a clip is a version. Each clip can have multiple versions, although only one
version can be applied at a time. By default, the first grade applied to every clip in a timeline is a
local version named "Version 1." A clip's version name and/or number appears underneath the clip
thumbnail, to the right. You can also see the version name, along with a list of all the other versions
that are currently available to that clip, by right-clicking a clip in the Timeline and looking for the
version names that appear underneath the Local Versions submenu.

Color|Chapter 142Grade Management                                                                        3274
                      Selecting versions of grades from the Timeline thumbnails

NOTE:Double-clicking the version name underneath a clip's thumbnail in the Timeline cycles
the version names, the clip names, and the codec used by each clip.

     There are two different types of versions in DaVinci Resolve, each of which provides a                      COLOR
     different method of grade management and linking among the clips and timelines of a project.

     Local versions: The default mode of grade management. Clips using local versions are
     unlinked, so each clip has its own grade which is not shared with any other clips in any other
     timelines. Changing the grade of a clip using a local version has no effect on any other clip in
     that project.

     Remote versions: An alternate mode of grade management that you can enable. All clips
     using remote versions that share the same source clip in the Media Pool are automatically
     linked, in all timelines, and share the same set of grades.

If you use local versions to grade all your clips, you don't have to worry about one clip's grade being
accidentally copied to other clips that happen to come from the same file in the Media Pool, which can
make it easier to work. On the other hand, you need to manually copy every grade that you want to
duplicate, even among clips that clearly come from the same take or angle. You can always create a
group to share a grade among clips using local versions, but that's an extra step.

Switching to use remote versions, instead, puts you into a mode where clips using remote versions
that share the same media file are automatically linked together. This gives you a convenient
shortcut for grading your program, since a grade that's applied to one linked clip is automatically
copied to every other clip it's linked to, which can be convenient when grading a series of headshots
appearing throughout a program that come from the same interview take. Another use of remote
versions is when you're importing a new edit of an already graded timeline. Using remote versions,
you can set your project up so that new incoming timelines are automatically relinked to the previous
timeline's grades.

The only disadvantage to using remote versions is that when you find you need to make individual
adjustments to clips that are linked, it's an extra step to either create another version, or switch that
clip to use a local version, in order to keep its adjustment separate. This will be discussed in more
detail later in this chapter.

Mixing Versions

Each clip is capable of having multiple local and remote versions at the same time; you get to choose
which to apply. Which type of versioning is best depends on the type of project you're working on,
the way in which the media was shot, and how you like to work. The following sections explain the
differences in workflow.

Color|Chapter 142Grade Management                                                                          3275
Using Local Versions by Default

Since local versions are the default method of grading when you first create a new project (unless
you've edited your settings presets), you don't need to do anything to enable this mode at first. As the
name implies, local versions are local to the Timeline in which they appear, so local versions are not
rippled to linked clips, and they're not shared among different timelines. This makes it easy to avoid
accidentally having grades copied when you don't want them to be, but you lose the conveniences
that automatic linking can provide.

However, you can always switch the clips in a timeline to use remote versions if you change your mind,
either individually, or all together.

Using Remote Versions to Enable Automatic Linking

Remote versions let all clips from the same source media file in the Media Pool share their grades
automatically, either within a single timeline, or across multiple timelines in the same project. However,
to enable the convenience of remote grades, you need to put DaVinci Resolve into this mode of
working using the Settings window.

To enable remote grades to be used:
   Open the Project Settings, open the General Options panel, and turn off "Use local version for
     new clips in timeline" in the Color section.
     Turning this option off only affects clips that are added to Timelines from that point onward.
     You can keep track of which clips use remote versions by the (R) that appears when you
     doubleclick the area underneath the thumbnail to hide the codec name in the Thumbnail timeline.

                                                                                                                     COLOR

      Turning off "Use local version for new clips in timeline" to enable remote grades to be used by default

How Automatic Linking Works

When clips using remote versions have been added to a timeline, any other clips in any timeline that
     a) use remote versions also, and
     b) refer to the same file in the Media Pool are linked. Selecting a clip using a remote grade in the
          Color page that is automatically linked to one or more clips displays a small "linked" badge at
          the right of that clip's timecode in the Thumbnail timeline.

Color|Chapter 142Grade Management                                                                              3276
                                                           The linking arrow shows this clip                      COLOR
                                                           has the same source as the one
                                                           selected on the Timeline

     TIP:The Timeline Filtering drop-down in the Color Page toolbar has an option named
     "Common Media Pool Clips" that only shows clips in the Timeline that are linked to the
     currently selected clip.

Adjustments that you apply to a remote version of one linked clip are automatically rippled to every
other clip it's linked to, which can save you an enormous amount of time when you're getting started
with a new program. For example, if every reverse angle from the same take in a particular angle of
coverage is automatically linked using remote versions, then the grade you apply to one reverse angle
clip will ripple to every other reverse angle clip throughout the Timeline.

Timeline with three automatically linked clips shown, and codec names hidden
to reveal the (R) that shows these clips are using remote grades

So long as remote versions are enabled, there are other ways that linked clip relationships are formed.
If, after conforming an AAF, XML, or EDL, you used the Split Clips button in the Color page to split one
conformed clip into many, each of the clips you split would be linked, since they too would share the
same source media in the Media Pool.
Finally, automated linking also occurs for clips that appear in multiple timelines that also use remote
versions. As a result, the grade you apply to one linked clip is automatically rippled to every other clip
it's linked to.

     NOTE:Media management or media consolidation operations that split large source media
     files into many individual media files will defeat automatic linking within the same timeline,
     since each clip will be conformed to its own individual media file.

Color|Chapter 142Grade Management                                                                           3277
    Starting with Remote Versions, Then Switching to Local Versions                                               COLOR

     It's possible to combine the best aspects of remote and local versions into a single workflow,
     taking advantage of your ability to freely switch from one to the other. Since remote versions
     make it easy to copy grades among clips that are similar, you can switch to using remote
     versions first, and then grade your way through the Timeline until you get to the point where
     you need to start making much more specific changes to individual clips. Then, it's easy to
     either switch each linked clip that needs individual adjustment to use a local version, or to
     use the Copy Remote Grades To Local command (described later) to copy the current remote
     version of each and every clip to a local version, at which point you can make all the specific
     tweaks you need to without worrying about changes being accidentally copied.

Creating a Master Timeline

DaVinci Resolve version 9 and earlier would automatically create a Master Timeline whenever you
added clips to the Media Pool. This changed in versions 10 and later, which by default have no Master
Timeline. However, if you want to create a Master Timeline in order to use it as you would have before,
this is easy to do.

If you want a Master Timeline to have a single timeline that always contains all clips currently in the
Media Pool, there's a way you can create one. However, you need to do it immediately upon creating a
new project, before adding any media to the Media Pool. Once you've added one or more clips to the
Media Pool, the option you need to do so will be disabled.

To create a new Master Timeline:
1 Create a new project, open the General Options panel of the Project Settings, and turn on the

     "Automatically match master timeline with media pool" checkbox in the Color section. If you also
     want all clips to use Remote versions as you grade by default as in previous versions of DaVinci
     Resolve, you can turn off the "Use local version for new clips in timeline" checkbox.
2 Click Save.
3 Open the Edit page, and choose File > New Timeline (Command-N).
4 When the New Timeline Properties window appears, turn the Empty Timeline checkbox off, and
     click Create New Timeline.

     Now, in addition to the new Timeline, a Master Timeline appears in the Timeline list.

Once created, the Master Timeline contains every clip in the Media Pool of the current project. If you
color correct the clips in the Master Timeline, you'll find there's only one set of versions available,
found underneath the Local submenu of the Color Page timeline's contextual menu. It's important
to understand that local versions within the Master Timeline are in fact the remote versions found in
every other timeline of that project.

In fact, it would be fair to say that the remote versions found in other timelines are actually the Master
Timeline's versions. When you grade a clip in the Master Timeline, those grades ripple out to every
other instance of that clip, in every other timeline within that project, via remote versions.

Sharing of remote versions among the Master Timeline and newly conformed timelines is why you can
grade a collection of clips that you import into DaVinci Resolve without any editorial structure, grade
and output offline media, and then reimport a project file that relinks to the original clips along with
their grades. It's also why you can grade clips in one timeline, and then import additional re-edited
timelines via AAF, XML, or EDL, which automatically inherit all remote versions of grades that were
created in previous timelines.

Color|Chapter 142Grade Management                                                                           3278
Differentiating Clips with Individual Versions

If you've enabled DaVinci Resolve to add clips with remote versions, there are times when you may
want to suspend automatic linking. As convenient as automatic grade rippling among linked remote
versions is, there are many instances where you may need to stop it. For example, if the Media Pool
contains a source media file with the entire content of an interview, then every clip that has been
conformed to that source media will be linked, which is ordinarily good since you'd expect they'd all
share the same grade. However, if the DP fiddled with the exposure of the camera in the middle of
the interview, such that some clips are lighter and others are darker, you may find yourself needing to
make different adjustments to clips from different parts of the interview.

One way of doing this, which can be useful in timelines where you only need to make a few of these
kinds of changes, is to create a new remote version for every clip to which you need to make an
individual adjustment. Since each version is its own grade, and differently named versions don't link to
one another, this is a simple solution.

To suspend linking by creating a new remote version:
1 Move the playhead to the clip you need to alter individually.
2 Do one of the following:

      Choose Color > Grade Version > Add (Command-Y).
      Right-click the thumbnail in the Timeline, and choose Remote Versions > Create New Version.

3 Grade the new version that's appeared.

While this method works well, keep in mind that multiple linked clips using the same version number
will always be linked with one another. In other words, suppose Clip 1, Clip 3, and Clip 5 are linked
using the default Version 1, which has a strong blue grade applied.

                                                                                                                COLOR

Three clips automatically linked, sharing a blue grade

Then, you set Clip 3 to use Version 2 with a different grade, tinted red. Clip 3 is now unlinked from
Clips 1 and 5.

Setting the second of the three clips to use another version with a different remote grade sets it apart

However, switching Clip 5 to also use the red-tinted Version 2 means that Clip 3 and Clip 5 are now
linked together, but Clip 1 is no longer linked.

Color|Chapter 142Grade Management                                                                         3279
Setting the third of these clips to share the same remote version as the second                                     COLOR
clip now links those two together, omitting the first clip

Every new remote version you create, and every change you make, becomes available to all other
clips in all other timelines that comes from the same source Media Pool clip as the shot you're working
on. However, any clip can use any version, and which version is used by a linked clip is not rippled.

For example, Timeline 1 contains a clip named Max CU, which has three remote versions. Timeline 5
also contains Max CU, which is currently set to use Version 2. If you open Timeline 1 and add one more
remote version to Max CU, that new version will also be available to Max CU in Timeline 5, but it will
still be set to use Version 2.

Switching Clips Between Local and Remote Versions

You can also suspend remote version grade linking by switching individual clips to use local versions.
This makes it easy to create a situation where some clips are linked, and other clips are not. Keep
in mind that each clip has both local and remote versions, so you can switch from one to the other
without losing anything.

To suspend linking by setting individual clips to use a local version:
     Right-click a clip thumbnail, choose the submenu of the corresponding remote version you want
     to copy, and choose Copy to Local. The remote version is copied to a local version, which now
     appears as the current version that's used.

     You can also set every clip in the entire timeline to use local versions. If you switch an entire
     timeline to local versions, then no clip in that timeline will be linked to any other unless you create
     a group (covered later in this chapter). This is the default state, but it's useful even when you've
     switched to using remote versions when you want to grade one timeline differently from the others
     in a project, for example when doing a trim pass for another video or stereo 3D format, or when
     grading another cut, such as a trailer, that uses the same media but requires a different look.

To suspend linking by switching from remote versions to local versions:
     Right-click any clip thumbnail, and choose one of the following commands;

     Use Local Grades: Switches all clips to their local versions. If there are already local versions
     defined for each clip, those will appear. If there are no local versions yet defined, each
     clip will be ungraded.

     Copy Remote Grades to Local: Copies the currently assigned remote version of each clip
     to a local version.

     Because Undo is used only for individual clip operations, the Use Local Grades and Copy Remote
     Grades To Local commands cannot be undone. However, switching a timeline from remote to local
     versions is not a one-way trip. You can select Use Remote Grades to switch every clip in a timeline
     back to the remote versions at any time.

To switch a timeline back to using remote versions:
     Right-click any clip thumbnail, and choose Use Remote Grades.

Color|Chapter 142Grade Management                                                                             3280
     Furthermore, you can also copy the local grades you made to be remote grades, for instances                 COLOR
     where you started grading with local grades, and you want to switch to remote grading using your
     local grades as a starting point. Be aware that when you do this in a timeline with many clips that
     share the same source media, the grade of the very last shared clip in the Timeline will be the only
     remote grade that's used for those auto-linked clips.

To copy each clip's local grade to a remote grade for every clip in the current timeline:
     Right-click any clip thumbnail, and choose Copy Local Grades to Remote.

     If you're switching back and forth between local and remote versions,
     keep the following rules in mind:
     · If you select Use Remote Grades, change your remote grades, and then Copy Remote

        Grades To Local on that timeline again, you'll overwrite all of your previously graded local
        versions. This is a good workflow if you don't like what you've done with your local versions,
        and you want to start over by recopying the remote versions.
     · If you select Use Remote Grades, change your remote grades, and then select Use Local
        Grades, you'll return to your previously graded local versions, as they were before you
        selected Use Remote Grades. This is a good workflow if you just want to switch back to your
        remote versions in order to copy the remote versions of specific clips to local versions.

Working with Versions

Each clip can have as many local and remote versions as you like. There are commands for creating,
renaming, and deleting the versions that are available to each clip when using the pointer or
keyboard shortcuts.
Additionally, DaVinci Resolve 15 introduced the ability to batch create, rename, load, and delete
versions for multiple clips that are selected at the same time.

To create a new local or remote version
quickly for one or more selected clips:

   Choose Color > Grade Version > Add (Command-Y).
     A new version is created, identical to the type of version that was previously selected (remote
     or local), named "Version x" where x is the number of the versions that have been created. All
     keyframes and motion tracking are copied from the previously selected version to the new one.

To create a new version for one or more selected clips,
with the option to set a name and whether to copy keyframes:
1 Right-click one of the selected clip thumbnails, and choose one of the following:

      Local Versions > Create New Version
      Remote Versions > Create New Version

2 Type a name for the version in the dialog that appears, and choose either "Copy all marks" or
     "Copy the first mark only," depending on whether or not you want to copy all the keyframes into
     the new version.

          NOTE:Motion tracking will be copied regardless of whether "Copy all marks"
          is selected or not.

Color|Chapter 142Grade Management                                                                          3281
3 Optionally, you can choose one of the preset version names from the drop-down list. These
     names are defined in the Versions section of the General Options panel of the Project Settings.

4 Click OK.

To delete a specific version for one or more selected clips:
   Right-click one of the selected clip thumbnails, choose the submenu of the remote version you
     want to delete (it can't be the currently selected version), and choose Delete.

To delete all versions for one or more selected clips:
   Right-click one of the selected clip thumbnails, and choose one of the following commands from
     the contextual menu corresponding to the scope of the versions you want to delete;
      Local Versions > Delete All Versions
      Remote Versions > Delete All Versions
      Delete All Versions

All versions are deleted as specified, except for the currently selected version, which is now the only
one remaining.

To load a particular remote or local version for one or more selected clips:
   Right-click one of the selected clip thumbnails, choose the submenu of the corresponding remote
     version you want to copy, and choose Load.

To rename the version of one or more selected clips:
1 Right-click one of the selected clip thumbnails, choose the submenu of the corresponding remote

     version you want to rename, and choose Rename.
2 In the Version Name dialog, type a name into the text field. Optionally, you can choose one of the

     preset version names from the drop-down list. These names are defined in the Versions section of
     the General Options panel of the Project Settings.

                                                                                                               COLOR

                                   Selecting a Version name from the dropdown list, the names
                                   on the list come from assignments made using the Versions
                                   section of the General Options panel of the Project Settings

3 Click OK.

     That name now appears underneath the clip thumbnail in the Timeline.

Color|Chapter 142Grade Management                                                                        3282
If you're going to use predefined names for versions, you need to define these in the Versions group
of the General Options panel of the Project Settings. Ten drop-down menus let you choose from
preset version names, or enter your own. These names will appear in the drop-down menu of the
Version Name dialog.

                       The Versions section of the Project Settings                                                COLOR

The Importance of "Version 1"

There are specific operations in DaVinci Resolve where "Version 1," otherwise known as "the default
version," is the only version that's used, regardless of how many other versions are available, or which
version was previously selected. The default version can be named anything you want, but whatever
its name, the default version is the first version in the list, and it's important. Here are some examples:

     Importing additional timelines that use the same clips: In this case, if you're importing
     timelines and "Use local version for new clips in timeline" is disabled in the Color section of
     the General Options panel of the Project Settings, then only the default version of each clip is
     relinked.
     Whenever you switch a timeline between local and remote versions: In this case, every
     clip in the Timeline will be switched to the default version, regardless of what you had
     selected previously.

Consequently, if you plan to reconform your clips to a newer version of the edit that you're importing,
or pursue other workflows that are off the beaten path, it's a good idea to make sure, no matter
how many versions you end up creating, that the most important grade is always copied back to the
default version.

To copy any version quickly to the default version:
1 Choose Color > Memories > Save Memory A (Option-1). You can use any memory you want, but

     Memory A is convenient for this example.
2 Choose Color > Grade Version > Default (Command-U).
3 Choose Color > Memories > Load Memory A (Command-1) to apply the saved memory to the

     default version.

To jump immediately to the default version, do one of the following:
   Choose Color > Grade Version > Default (Command-U).
   Press DEFAULT VERSION on the T-bar panel.

Color|Chapter 142Grade Management                                                                            3283
Deleting Unused Versions                                                                                            COLOR

In cases where you want to make absolutely sure there's no alternative to the grade you want a clip to
have, there's an easy way to delete all versions except for the version that's currently in use, thereby
making it the default version.

To eliminate either local or remote versions except for the current version:
1 Choose the local or remote version you want a clip to use.
2 Right-click the thumbnail of the clip you want to eliminate extra versions from, and choose Delete

     Unused Versions from the contextual menu.

If you selected a local version, all unused local versions will be deleted, but remote versions will be left
alone. Similarly, if you selected a remote version, all unused remote versions will be deleted, but local
versions will be left alone.

To eliminate all other local and remote versions except for the current version:
1 Choose the version you want a clip to use.
2 Right-click the thumbnail of the clip you want to eliminate extra versions from, and choose Delete

     All Versions from the contextual menu.

     Regardless of whether you selected a local or remote version, all other local and remote versions
     not in use will be deleted.

Rendering Versions

When the time comes to render your clips in the Deliver page, each clip's currently selected version
will be rendered. If you need to render a different version for a given clip, you can either make sure it's
selected in the Color Page timeline before you open the Deliver page, or use the Versions submenu
in the Color mode of the Deliver page Thumbnail timeline. This contextual menu also provides access
to the Stereo 3D commands, the Edit PAR (Pixel Aspect Ratio) command, and a command for updating
the Render Window Timeline thumbnails to reflect any changes you've made in case they haven't
updated automatically.

     Additionally, the Commercial Workflow output option, located in the Deliver page, provides
     a method of rendering multiple versions for each clip when outputting your project in Source
     Order (as individual media files). There are two additional options in the Version submenus of
     each clip in the Thumbnail timeline contextual menu that let you control which versions are
     rendered when you use Commercial Workflow.

     Render Disabled: Turning this option on excludes that version from being rendered when
     Commercial Workflow is enabled.

     Enable Flat Pass: Turning this option on forces the selected version to render with the grade
     turned off, essentially outputting the original media.

     For more information on rendering versions using the Commercial Workflow option,
     see Chapter 187, "Rendering Media."

Color|Chapter 142Grade Management                                                                             3284
Copying Grades                                                                                                  COLOR

There are various methods you can use to copy grades from one clip to another. Which is appropriate
to your need depends on your style of working with DaVinci Resolve.

Protecting Adjustments with the Copy Grade Options

Before going into the myriad of ways that grades can be copied from one clip to another, you should
know of a series of options, available from the contextual menu of the Gallery (right-click anywhere
in the gray area of the Gallery), that let you carefully specify grading, sizing, and stereo data to be
preserved when overwriting grades in clips you're copying to. There are three options:

Copy Grade: Preserve number of nodes: Lets you choose 0­10 nodes to be protected when applying
a grade. When set to 1, the first node of the copied grade is ignored, but all other nodes are copied.
When set to 5, the first five nodes of a copied grade are ignored, as long as there are at least five
nodes in the grade of the clip you're copying to. This option is useful for colorists who routinely use
the first few nodes for shot matching and scene balancing, with additional nodes applying individual or
stylistic adjustments.
Copy Grade: Preserve Camera Raw Settings: When enabled, the camera raw Source settings of the
current clip are preserved, letting you apply stylistic grades from unrelated clips without overwriting
clip-specific source settings.
Copy Grade: Preserve Input Sizing: When enabled, Input Sizing adjustments are not overwritten by
those of the copied grade.
Copy Grade: Preserve Convergence: When enabled, Convergence adjustments in the
Stereo 3D palette are not overwritten by those of the copied grade.
Copy Grade: Preserve Floating Windows: When enabled, Floating Windows adjustments in the
Stereo 3D palette are not overwritten by those of the copied grade.
Copy Grade: Preserve Auto Align: When enabled, Auto Alignment adjustments in the
Stereo 3D palette are not overwritten by those of the copied grade.
Copy Grade: Preserve Dolby VisionTM Analysis Metadata: When enabled, Dolby Vision Analysis
Metadata is not overwritten by that of the copied grade. Only available if you're set up to do Dolby
Vision grading.

     For more information, see Chapter 9, "Data Levels, Color Management, and ACES."

Copy Grade: Preserve Dolby VisionTM Trim Metadata: When enabled, Dolby Vision Trim Metadata in
the Dolby Vision palette is not overwritten by that of the copied grade. Only available if you're set up
to do Dolby Vision grading.

     For more information, see Chapter 9, "Data Levels, Color Management, and ACES."

Color|Chapter 142Grade Management                                                                         3285
Copy and Paste From One Clip to Another                                                                       COLOR

The simplest way to copy color adjustments from one clip and apply them to another clip is to use
the same Edit > Copy and Paste commands shared with nearly every other application ever made.
However, you can use this straightforward functionality in one of two ways, depending on the focus of
the interface.

     · If you click on the clip in the Thumbnail Timeline, you copy and paste the entire grade from
        one clip to another.

     · If you click inside the Node Editor, you copy and paste only the selected node to another
        selected node.

You can override this focus-based selection, and make the default behavior to only copy between
nodes rather than entire grades regardless of the interface focus. Do this by checking the "Always
perform copy and paste on selected nodes" box in the Color section of the User panel in Preferences.

Methods of copying and pasting grades and node adjustments.
   To copy and paste an entire grade: Choose a clip with a grade you want to copy, and press
     Command-C. Then select the clip you want to copy the grade to in the Thumbnail Timeline, and
     choose Command-V to paste the entire grade.
   To copy and paste a single node: Choose a clip with a node you want to copy, and press
     Command-C. Then select the clip you want to copy the node to in the Thumbnail Timeline, and
     then click anywhere inside the Node Editor. Then choose Command-V to paste the node that was
     selected when you copied to the currently selected node in the node tree.

Copy and Paste Specific Parameters Using Paste Value

The Edit > Paste Value (Shift-Option-V) command lets you paste only the value of a specific parameter
into the node of another clip.

To paste only a specific value:
1 Select a Corrector node with a parameter you want to copy, and press Command-C to copy it.

     You're really copying the entire grade, but that's okay.
2 Choose any other node in any grade, and open the palette that contains the parameter you want

     to paste into.
3 Double-click the number field of the specific parameter you want to paste the copied value into.
4 Choose Edit > Paste Value (Shift-Option-V) to paste that value.

     NOTE:Paste Value only works for parameters within palettes; it does not work for OFX or
     Resolve FX in the Inspector.

Applying Saved Grades From the Gallery

Every time you save a still into the Gallery or a memory, it contains both the Clip grade, and the
Timeline grade, if one is applied. Which grade is applied from a still using the Apply Grade or Append
Node Graph commands depends on which mode the Node Editor is in. This is selectable from the
drop-down menu in the upper right-hand corner of the Node Editor.

Color|Chapter 142Grade Management                                                                       3286
                                              Node Editor Clip and Track selector                                 COLOR

     If you're in Clip mode, you'll only copy the saved clip grade. If you're in Timeline mode, you'll
     only copy the saved timeline grade.
     NOTE:This mechanism also works for saving and applying grades for clips that are in
     Groups. The currently selected group grade in the Node Editor determines which grade is
     saved with a still, and the currently selected mode in the Node Editor determines where a
     saved grade will be applied.

Preparing to Copy or Apply Grades

For all other methods of copying or applying grades described in this chapter, there are some common
methods of controlling how adjustments from the clip or still you're copying from are applied to the clip
you're pasting or applying to.

Choosing Which Aspect of a Grade to Apply with All/Color/Sizing

When applying grades using any of the techniques described in this section, you can use the All/
Color/Sizing setting that are available via the Mark > Keyframe Timeline Mode submenu, the drop-
down menu that's visible at the upper-right of the Keyframes Editor. When copying a grade in
conjunction with the settings in this menu, the following rules apply:

   All: When All is selected, both the grade and the sizing are copied.
   Color: Only the grade is copied, the target clip retains its original Input Sizing settings.
   Sizing: Only the Input Sizing is copied, the target clip retains its original grade.

Choosing How to Copy Keyframes

When copying or applying grades that have keyframes, you can choose how these keyframes are
copied via a setting in the Gallery contextual menu by right-clicking anywhere in the gray background
area of the Gallery, and choosing one of these options from the Apply Grades Using submenu. There
are three options:

   No Keyframes: No keyframes are copied. The state of the grade at the frame used to save the still
     is what is applied to the target clip or clips.

   Keyframes Aligning Source Timecode: Keyframes are copied aligning the source timecode of
     the saved grade with the source timecode of the target clip. This is the ideal setting when you're
     copying a grade back to the clip it came from originally, or to a duplicate of that clip elsewhere in
     the Timeline, and you want the keyframes to align with the same frames as before. If there is no
     source timecode overlap, keyframes will be pasted aligning with the start frame of the edit, the
     same as the third option (below).

   Keyframes Aligning Start Frame: Keyframes are copied aligning the start frame of the clip that still
     was saved from with the start frame of the target clip. This is the ideal setting when you're copying
     a grade with keyframes from one clip to a completely different clip, with different timecode.

Color|Chapter 142Grade Management                                                                           3287
     From that point on, keyframes, should they exist, will be copied or applied using the selected                COLOR
     method whenever you copy a grade using any of the previously described methods.

Copying Grades Using the Pointer

An incredibly easy way of copying a grade from one clip to another, or from a still or memory in the
Gallery to a clip, is by using the third button of your mouse, usually mapped as the "middleclick" of the
mouse scroll wheel.

To copy a grade from a clip or still to one or more clips using the pointer:
1 Select the clip thumbnail you want to copy the grade to in the Timeline; a single selected

     clip appears highlighted orange. If you want to copy a grade to several clips, you can either
     Commandclick multiple non-adjacent clips, or Shift-click a continuous range of clips; multiple
     selected clips appear highlighted red.
2 Middle-click the clip thumbnail, Gallery still, or memory you want to copy the gradefrom.

The grade of the clip you middle-clicked is copied to the previously selected clip or clips.

     TIP:If you're using a trackpad, third-party software may allow you to define a "threefinger-
     click" that works the same as mouse button 3. If you're a pen and tablet or trackball user, you
     may be able to define a stylus or other button to perform the same button-3 action.

If you don't have access to a middle-click on the pointing device you're using, there's another way of
doing this using a contextual menu command.

To copy a grade from a clip or still to one or more clips using the Apply Grade command:
1 Select the clip thumbnail you want to copy the grade to in the Timeline; a single selected clip

     appears highlighted orange. If you want to copy a grade to several clips, you can either Command-
     click multiple non-adjacent clips, or Shift-click a continuous range of clips; multiple selected clips
     appear highlighted red.
2 Right-click the clip thumbnail, Gallery still, or memory you want to copy the grade from, and
     choose Apply Grade from the contextual menu.
The grade of the clip you middle-clicked is copied to the previously selected clip or clips.

Copy Forward Commands

Another simple way of copying grades is to use the equals (=) and minus (­) keys on the keyboard to
copy grades forward from one or two clips behind the currently selected clip. This is a great way to
copy grades in scenes with a shot-reverse-shot structure, where you're cutting between two angles of
coverage, each of which uses the same grade.

To copy grades forward:
   To copy a grade from one clip back: Choose Color > Apply Grade From One Clip Prior, or
     press Equals (=).
   To copy a grade from two clips back: Choose Color > Apply Grade From Two Clips Prior, or
     press Minus (­).

Color|Chapter 142Grade Management                                                                            3288
Copying Using Memories                                                                                             COLOR

Memories are virtually identical to stills, except that they're labeled with a letter (A­Z) for easy access
via keyboard shortcuts. A memory bank above the Gallery browser provides a visual reference
of which saved grade is assigned to which letter. This makes it easy to keep track of multiple
saved memories in instances where you're copying them to several different clips throughout a
scene or program.

For example, you might save a memory for each angle of coverage in a complicated scene, making it
easy to copy grades forward. In another example, you might save a memory for the grade applied to
each interview subject's headshot in a documentary, so you can copy that grade forward as you work
through the documentary.

To save the current clip's grade to a memory for future use, do one of the following:
   Choose Color > Memories > Save Memory A­H (Option-1­8).

If you save a grade to a memory that already contains something, the previous memory is overwritten.

To apply a memory to one or more clips in a timeline, do one of the following:
1 Choose one or more clips in the Thumbnail timeline to copy to. This can be the current clip, or it

     can be a range of clips that you select by Command-Clicking or Shift-Clicking.
2 Do one of the following to copy a grade to the selected clips:

      Right-click a memory and choose Apply Grade.
      Choose Color > Memories > Load Memory A­H (Command-1­8).

To clear a memory:
      Right-click a memory, then choose Clear.

Copying Using Preview Memory

You can also preview the effect of a memory or saved grade on the current clip, with the option to
either keep it if it works, or go back to the previous grade if it doesn't.

To Preview Memory:
1 Move the playhead to a clip for which you want to preview a memory.
2 Choose Color > Preview Memory (Option-Shift-P).
3 Do one of the following:

      Right-click any saved still in the Gallery and choose Apply Grade.
      Choose Memories > Load > Memory A­H (Command-1­8).
     The selected grade or memory is now being previewed.

4 Now, do one of the following to either accept or reject the memory:
      If you like the effect, then you can leave it be and move on to another clip.
      If you don't like the effect, then choosing Color > Preview Memory (Option-Shift-P) again reverts
        the clip to the original grade.

Color|Chapter 142Grade Management                                                                            3289
Copying from Stills in the Gallery                                                                                   COLOR

As mentioned previously, each still you store in the Gallery contains the grading information as well as
the image of the frame it was saved from. This saved grade can be applied to any clip in the Timeline.

     IMPORTANT:Copied grades overwrite any previously existing grades on the clip or clips you
     copy to.

To apply a grade from a still to one or more selected clips in a timeline:
1 Choose one or more clips in the Thumbnail timeline to copy to. This can be the current clip, or it

     can be a range of clips that you select by Command-clicking or Shift-clicking.
2 Do one of the following to copy a grade to the selected clips:

      Drag the still from the Gallery into the Viewer.
      Right-click a still in the Gallery and choose Apply Grade.
      Middle-click a still in the Gallery.
      Double-click a still to wipe it in the Viewer against the current clip in the Timeline, then rightclick

        the Viewer and choose one of the options from the Apply Grade submenu.

Append Node Graph

You can also append a saved grade to any clip in a timeline. This adds the entire node graph of the
saved still to the end of the node tree of the current clip. In other words, the current clip's grade isn't
overwritten, the applied grade is added to the end of it.
By planning ahead, you can save fragmentary grades that create specific effects or adjustments using
only a few nodes. You can then use these fragmentary grades as a toolkit that you can add to other
grades in order to mix and match different adjustments and effects.
For example, you could create a three-node glow effect, save it, and then apply that effect at the end
of a completely different clip's grade.

Appending grades places them after the original nodes

                                                       Color|Chapter 142Grade Management                       3290
To append a saved grade or memory as individual nodes, do one of the following:
   Drag a still or memory from the Gallery onto a connection line in the Node Editor; when the
     plus icon appears, drop it and its nodes will be appended within the node tree starting at
     that connection.
   Right-click a still or memory in the Gallery, and choose Append Node Graph.

     Ordinarily, when you append the node graph from a memory or still to another node graph,
     you end up adding a whole shedload of new nodes. This may be exactly what you need, but in
     situations where you want to keep things a bit tidier, you also have the option of appending node
     graphs as compound nodes.

To append a saved grade or memory as a compound node:
   Command-drag a still or memory from the Gallery onto a connection line in the Node Editor;
     when the plus icon appears, drop it and its nodes will be appended to the node tree as a single
     compound node.

     NOTE:When you append the nodes from a gallery still to a grade, how keyframes are
     applied depends on the "Apply Grades Using" setting of the Gallery.

     For more information, see Chapter 141, "Using the Gallery."                                               COLOR

Aligning Keyframes to a Specific Frame While Copying Grades

If you need to copy a grade with keyframes so that the start keyframe of the copied grade aligns with
a specific frame of the Timeline, you can do so using the following procedure:

To copy a grade and align its keyframes to a specific frame of the Timeline:
1 Save a grade with keyframes as a Gallery still by right-clicking the Viewer and choosing Grab Still.
2 Choose the clip you want to copy the saved grade to in the Thumbnail timeline.
3 Double-click the Gallery still to wipe it against the current clip in the Viewer.
4 Move the playhead to the frame of this clip you want the first keyframe of the saved grade to be

     aligned with.
5 Right-click the Viewer and choose Apply Grade > Align Keyframes to Current Frame.

Copying Individual Nodes and Settings

Copying grades from clip to clip copies everything except for keyframes and motion tracking.
However, there is one way you can copy the motion tracking from one clip to another, and that's by
copying and pasting individual node settings. This can save time when you're assembling complicated
node trees by recycling specific nodes or node settings from previous grades.

Copying and Pasting All Settings From One Node to Another

The simplest thing you can do is to copy all of a node's settings, and paste them into another node.
This makes it easy to duplicate things like windows, qualifier settings, keyframing, or motion tracking
that you want to reuse in another node as the basis for another operation. This is also a quick way to
manually ripple a change you make in a node to that same node in another clip's grade.

Color|Chapter 142Grade Management                                                                        3291
To copy a node's settings from one clip to another, do one of the following:

   Option-drag one node onto another. When you drop it, the settings of the node you dragged
     overwrite those of the node you dropped onto.

   Select a node with settings you want to copy and choose Edit > Copy (Command-C). Then, select
     a node you want to paste these settings to either in the current grade or in the grade of another
     clip, or create a new node, and choose Edit > Paste (Command-V) to paste the settings you
     copied. These pasted node settings overwrite any other settings that node previously used.

Paste Attributes on the Color Page

You can copy the settings of one node and
paste a subset of those settings to another
selected node by choosing Edit > Paste
Attributes (Option-V). A Paste Attributes
window appears that shows you which node
you're copying from, and which node you're
pasting to, and provides controls for choosing
whether you want to paste keyframes and
how to align them (Start Frames or Source
Timecode), as well as a series of checkboxes
for choosing which palettes, windows, and
OFX/ResolveFX you want to apply. You can
only paste all parameters from a specified
palette; there's no current provision for pasting
specific parameters from within a given palette,
with the exception of pasting specific windows
and their accompanying trackers.

                                                                                                                                          COLOR

                                                                                     The Paste Attributes window on the Color page

Copying from the Node Graph
of Other Clips or Gallery Stills

When constructing new grades, you may sometimes find it convenient to copy existing nodes or node
settings from the grade of another clip or gallery still. This can be easily accomplished by exposing
the node tree of any still that's saved in the Gallery, or any clip in the Thumbnail timeline, and using the
controls found in the floating node graph to copy individual nodes or node adjustments to the current
clip's grade shown in the Node Editor.

Copying Clip Settings Using Display Node Graph

In Clip mode, the floating Node Graph window has four sets of controls you can use to choose how to
copy nodes and adjustments:

   Clip Node Graph: By default, the Clip node graph is displayed at the left. You can drag any node
     from the floating node graph to the current grade shown in the Node Editor, and drop it onto an
     existing node to overwrite that node's settings or onto a connection line to insert it as a new node.

Color|Chapter 142Grade Management                                                                                                   3292
   Timeline Node Graph: (Only available if there is a Timeline grade) You can switch to the Timeline                  COLOR
     grade, if there is one, by either clicking the second button in the Node Graph title bar, or by
     choosing Timeline from the drop-down menu at the upper right-hand corner of the floating
     Node Graph window.

   Apply Color/PTZR/Source/All buttons: With the Clip panel selected, four buttons let you
     selectively copy the entire grade, the sizing, the source settings, or all settings at once to
     the current clip.

      Dragging a node from another clip's node graph to the currently selected clip's grade in the Node Editor

Copying Node Settings Using Display Node Graph

In Node mode, the floating Node Graph window displays all of the available Color Attributes found
within each node, instead of the Apply Color/PTZR/Source/All buttons:

   Node Settings: Use the checkboxes to choose which node adjustments get copied and which
     do not. After you've checked the settings you want to selectively copy, dragging a node from the
     floating node graph onto nodes in the Node Editor copies or appends the selected attributes into
     the target node, leaving all other attributes alone. For Windows and OpenFX, you have the option
     of also copying any motion tracking that's available.

The Node panel open with the Color Corrector                                                                    3293
and Blur attributes selected for copying

                                                                  Color|Chapter 142Grade Management
Ability to Open Compound Nodes in "Display Node Graph"

When you right-click a Gallery still or a thumbnail and choose Display Node Graph for a grade that
uses compound nodes, you can right-click any compound node and choose "Show compound node,"
or Command-double-click a compound node to open it and see its individual nodes.

Opening a compound node in a floating Node Graph window                                                          COLOR

How to Copy Nodes Using Display Node Graph

The following procedures describe how to open the floating node graph in different situations.

To copy individual nodes or settings from any still in the Gallery:
1 Click the thumbnail in the Timeline of the clip you want to copy nodes to. Its node graph will

     appear in the Node Editor.
2 Right-click a still in the Gallery you want to copy nodes from, and choose Display Node Graph.

     A floating Node Graph window appears displaying that still's node tree.
3 (Optional) While the Gallery Node Graph window is open, you can select any other still, and this

     window will update to show the currently selected still's node graph, ready for you to copy from.
4 In the floating Node Graph window, choose Clip if you want to copy overall clip attributes, or

     choose Node to copy individual node attributes.
5 Do one of the following to copy nodes or settings to the Node Editor.

      In Clip mode, drag any node from the floating node graph to the current grade shown in the
        Node Editor, and drop it onto an existing node to overwrite that node's settings. If you open the
        Node panel and choose specific attributes, only those attributes will be copied to the node you
        drag onto.

      In Clip mode, drag any node from the floating node graph to the current grade shown in the
        Node Editor, and drop it onto a connection line to insert it as a new node. If you open the
        Node panel and choose specific attributes, only those attributes will be copied to the new
        node that's created.

      In Clip mode, click Apply Color to copy the entire grade from the floating node graph to
        overwrite the current grade in the Node Editor.

Color|Chapter 142Grade Management                                                                          3294
      In Clip mode, click Apply PTZR to copy the sizing from the floating node graph to overwrite that               COLOR
        of the current clip.

      In Clip mode, click Apply Source to copy the source settings from the floating node graph to
        overwrite those of the current clip.

      In Clip mode, click Apply All to copy every setting from the floating node graph to the current clip.
      In Node mode, select which attributes you want to copy, and then drag any node from the

        floating node graph to the current grade shown in the Node Editor, and drop it onto an existing
        node to overwrite the settings of that node that you selected.
      In Node mode, select which attributes you want to copy, and then drag any node from
        the floating node graph to the current grade shown in the Node Editor, and drop it onto a
        connection line to insert it as a new node with only the settings that you selected.

6 While the floating Node Graph window is open, you can also select any clip in the Thumbnail
     timeline to change the grade that's displayed in the Node Editor, ready for you to copy to.

7 Click Close when you're finished.

To copy individual nodes or settings from any clip in the Timeline:
1 Click the thumbnail in the Timeline of the clip you want to copy nodes to. Its node graph will

     appear in the Node Editor.
2 Right-click the thumbnail of another clip you want to copy nodes from, and choose Display Node Graph.

          NOTE:The Display Node Graph command only appears in the contextual menu of a clip
          in the Thumbnail timeline that is not currently selected.

3 (Optional) In the floating Node Graph window, choose Clip if you want to copy overall clip
     attributes, or choose Node to copy individual node attributes.

4 Do one of the following to copy nodes or settings to the Node Editor.

      In Clip mode, drag any node from the floating node graph to the current grade shown in the Node
        Editor, and drop it onto an existing node to overwrite that node's settings. If you open the Node
        panel and choose specific attributes, only those attributes will be copied to the node you drag onto.

      In Clip mode, drag any node from the floating node graph to the current grade shown in the
        Node Editor, and drop it onto a connection line to insert it as a new node. If you open the Node
        panel and choose specific attributes, only those attributes will be copied to the new node
        that's created.

      In Clip mode, click Apply Color to copy the entire grade from the floating node graph to
        overwrite the current grade in the Node Editor.

      In Clip mode, click Apply PTZR to copy the sizing from the floating node graph to overwrite that
        of the current clip.

      In Clip mode, click Apply Source to copy the source settings from the floating node graph to
        overwrite those of the current clip.

      In Clip mode, click Apply All to copy every setting from the floating node graph to
        the current clip.

      In Node mode, select which attributes you want to copy, and then drag any node from the
        floating node graph to the current grade shown in the Node Editor, and drop it onto an existing
        node to overwrite the settings of that node that you selected.

      In Node mode, select which attributes you want to copy, and then drag any node from
        the floating node graph to the current grade shown in the Node Editor, and drop it onto a
        connection line to insert it as a new node with only the settings that you selected.

Color|Chapter 142Grade Management                                                                              3295
5 (Optional) While the floating Node Graph window is open, you can also select any clip in the
     Thumbnail timeline to change the grade that's displayed in the Node Editor, ready for you
     to copy to.

6 Click Close when you're finished.

Rippling Adjustments Among Multiple Clips

If you've graded a sequence of clips and find yourself needing to make a quick change to several clips
all at once, you can use the Color > Ripple Node Changes to Selected Clips/Current Group commands
to quickly copy changes made to one clip to several others. However, these commands require that
you follow certain rules in order to get the results you want.

Node rippling uses the number of each node to determine what changes should ripple to which
nodes. In other words, changes made to Node 3 will ripple to Node 3 of every other selected clip, or to
Node 3 of every other clip in the current group (depending on which command you use).

Rippling changes from one clip to several others requires that all clips share the same number of
nodes, at least for the nodes you're rippling. If you try to ripple a change to one or more clips that
don't have a node with the same number as the one you're rippling, then no change will be rippled to
those clips.

To ripple a change in one node to several selected clips:
1 Select the clip you want to use to make the change so that it's the current clip, outlined in orange.
2 Now, Command-click or Shift-click to select the range of clips you want to ripple your change to,

     so that they're all selected red.

                                                                                                                 COLOR

      The orange outlined clip is the current clip you're modifying, and the clips
      highlighted in red are the ones you're rippling this change to

     You don't have to select the clips you're going to ripple your change to prior to making the change,
     but it may be easier to keep track of what you're doing if you set everything up in advance. The
     clip you're changing should be outlined in orange, and the clips you're rippling the change to
     should be highlighted in red.

3 Select a node to modify. Ideally, every selected clip should have a node sharing the same number
     as the one you're modifying. If some clips don't, then those clips won't inherit the change you're
     going to be rippling.

4 Make whatever changes you need to, adjusting any of the palette controls in the Color page you
     need to, except for Camera Raw, Sizing, and Data Burn, which aren't nodespecific.

5 When you're happy with the change you've made, choose Color > Ripple Node Changes to
     Selected Clips.

     The change you've made should ripple to every other selected clip with a node of the same
     number, and in a few moments the thumbnails of those clips should update to show the change.

     If you've created a group, it's even easier to ripple node adjustments to the other clips in
     the group.

Color|Chapter 142Grade Management                                                                          3296
To ripple a change in one node to the current group:                                                                           COLOR
1 Select the clip you want to use to make the change so that it's the current clip, outlined in orange.

     It must be part of a group for this to work.
2 Select a node to modify. Ideally, every selected clip should have a node sharing the same number

     as the one you're modifying. If some clips don't, then those clips won't inherit the change you're
     going to be rippling.
3 Make whatever changes you need to, adjusting any of the palette controls in the Color page you
     need to, except for Camera Raw, Sizing, and Data Burn, which aren't nodespecific.
4 When you're happy with the change you've made, choose Color > Ripple Node Changes to
     Current Group.

     The change you've made should ripple to every other clip in the current group that has a node of the
     same number, and in a few moments the thumbnails of those clips should update to show the change.

Appending a Node to Multiple Clips

If you've made an adjustment to a node in one clip that you'd like to apply to several other clips, you
can quickly do that using the Color > Append Node to Selected Clips command. You can do this as a
prelude to using one of the Ripple Node Change commands, as it's a quick way to make sure several
previously ungraded clips have the same nodes, but you can also do this as a quick way to apply the
same node change to several clips, regardless of whether they have matching node trees.

To append a node to other selected clips:
1 Select the clip you want to use to make the change so that it's the current clip, outlined in orange.
2 Select the node you want to append to other clips.
3 Now, Command-click or Shift-click to select the range of clips you want to ripple your change to,

     so that they're all selected red.

     The clip you're copying from should be outlined in orange, and the clips you're rippling the change
     to should be highlighted in red.

4 Choose Color > Append Node to Selected Clips.

     The selected node should be appended to the end of the node tree of each selected clip, and in a
     few moments the thumbnails of those clips should update to show the change.

Using Shared Nodes

Shared nodes are meant to be a way to extend the benefits of automatically rippled changes among
different clips to colorists that prefer a flatter node structure than Group Grading allows. By turning
individual Corrector nodes into Shared nodes, and copying these to multiple clips, you enable linked
adjustments right from within the clip grade. This means that the clip grade can freely mix both clip-
specific nodes and Shared nodes, all within the same node tree. This makes Shared nodes fast to use
as there's no need to create groups or switch to a group node tree (covered in the next section) to
reap the benefits of linked adjustments among multiple clips.

A grade with an Unshared (at left) and Shared node (at center), a badge                                                  3297
indicates the Shared node, which is also locked

                                                                                      Color|Chapter 142Grade Management
What Are Shared Nodes Good For?                                                                              COLOR

Shared nodes are similar to group grades, except that they don't require grouping and can be added
to any normal grade. Changes made to a Shared node are automatically rippled to all other instances
of that node in the grades of other clips. Furthermore, you can add as many Shared nodes to a grade
as you like, and you can arrange them in any order to control the order of the operations they apply.
And, of course, you can intersperse them with ordinary Corrector nodes

     Shared nodes are extremely flexible. For example, you can use Shared nodes to:
     · Add a Color Space Transform Resolve FX or a LUT to the beginning of every clip

        from a particular source
     · Add a base correction to every talking head shot of a particular interviewee
     · Add a shot matching adjustment to each clip from a particular angle of coverage

        within a scene
     · Add a stylistic adjustment to every clip in a specific scene
     · Make your base adjustments when grading with remote versions, so those adjustments

        remain linked when you copy your remote versions to local versions for fine tuning

     In fact, you can mix and match Shared nodes among differently overlapping sets of clips to
     accomplish any or all of the above at once. For example, you can add one Shared node to
     make an adjustment to every clip from a particular camera, add a second Shared node to each
     of those clips that are in a particular scene, and then add a third Shared node to whichever
     of those clips happen to be a closeup of the lead actress, before adding one or two regular
     Corrector nodes that aren't shared to make clip-specific tweaks.

Creating Shared Nodes

Creating a Shared node is easy, assuming you've created a node that has an adjustment you'd like to
share among multiple clips.

To create a Shared node:
   Right-click any Corrector node and choose Save as Shared node.

Locking Shared Nodes

Once you turn a node into a Shared node, that node is automatically locked, preventing you from
accidentally making adjustments to it that would affect all other grades using that same Shared node.

To toggle the locked status of a Shared node, do one of the following:
   Right-click any Shared node and choose Lock Node from the contextual menu.
   Open the Keyframe Editor, and click the Lock icon in the track header of that node's
     keyframe track.

Copying Shared Nodes

Because Shared nodes are essentially Corrector nodes within clip grades, they're easy to work with.
Once you've created one or more Shared nodes, there are a variety of ways you can copy them to the
grades of other clips in your program to take advantage of the linked adjustments they let you make.

Color|Chapter 142Grade Management                                                                      3298
Ways of copying Shared nodes among multiple clips:                                                             COLOR
   Add a Shared node to another clip's grade using the Node Editor contextual menu: Once you
     save a node as a Shared node, it becomes available from the bottom of the Add Node submenu
     of the Node Editor contextual menu, making it easy to add any Shared node to any clip. If you
     customize the label of the Shared node, that custom label appears in the contextual menu, making
     it easier to find what you're looking for.
   Add Shared nodes to a basic grade you'll be copying to other clips: If you create one or more
     Shared nodes when you initially build a grade, copying that grade to other clips naturally copies
     the Shared nodes as well.
   Save a Shared node as a Gallery still and apply it to other clips: If you save a grade with a
     Shared node in it to the Gallery, then every time you copy that Gallery still to another clip, you
     copy its Shared node.
   Create a Shared node and append it to a selection of additional clips: If you've already graded
     several clips in a scene, you can add a Shared node to the end of one of the clips grades and
     make sure it's selected, then select all of the other clips in the scene and choose Append Node
     to Selected Clips.
   Use Shared nodes to preserve linked adjustments when copying remote grades
     to local grades: If you use Shared nodes to make your base adjustments when you grade using
     Remote Versions to automatically copy those grades to other clips that come from the same
     source media, those adjustments will remain linked when you copy your remote versions to local
     versions for fine tuning.

You can also choose options in the Gallery that dictate what happens when you copy a grade that has
shared nodes within it.

Converting Shared Nodes Back to Corrector Nodes

Sometimes you need to stop a node from being shared. For example, if you want to copy a grade from
another scene to use as the starting point for a new grade, chances are you don't want any shared
nodes to continue being shared as you customize that grade for the new scene. In this instance, you
can convert the Shared node back to a regular Corrector node, make any adjustments you need to
customize it for the new scene, and then turn that node into a brand new Shared node that's specific
to the new scene.

To convert a Shared node back to a Corrector node:
   Right-click any Shared node, and choose Convert to Corrector from the contextual menu.

Deleting Shared Nodes

If you've created a Shared node that's being used in multiple clips, and you decide you want to
eliminate the linked relationship among these nodes so they all work independently, you can "delete"
a specific Shared node. This leaves the now unlinked nodes intact within each node tree in which they
appear, but clears their effect. Additionally, that Shared node is removed from the Add Node submenu.

To Delete a Shared node:
   Right-click any Shared node, and choose a node to delete from the Delete Shared Node submenu.

Color|Chapter 142Grade Management                                                                        3299
Using Adjustment Clips

You can also apply a single grade to multiple clips in the Timeline using Adjustment clips that have
been superimposed over numerous other clips in the Timeline. They can be used to apply a single
grade to all clips in a scene, or to add further color adjustments or trims to a section of clips via a
second grade that's applied on top of the individual clip grades that are already applied.

Adjustment clips are a great way to add adjustments to multiple clips that you may be making frequent
changes to. If you make changes to a grade in an Adjustment clip, that change is automatically applied
to all clips underneath it in the Timeline. Additionally, grades applied via adjustment layers can be
turned off by disabling the adjustment layers, either one at a time, or by disabling an entire track with
adjustment layers in it.

                                                                                                                  COLOR

An Adjustment clip (shown selected in the Mini Timeline)
used to apply a cooler grade to four other clips in a scene

Adjustment clips can be edited into the Timeline on the Edit page, and are available from the
Effects bin of the toolbox in the Effects Library. When an Adjustment clip is superimposed above one
or more clips in the Timeline, all effects that are applied to the Adjustment clip are also applied to all
clips underneath it.

Adjustment clips can be used to apply the following types of effects:

   ResolveFX and OpenFX plugins
   Inspector parameters, including Composite, Transform, Cropping, and Dynamic Zoom
   Fusion page effects
   Color page grading and sizing

Color|Chapter 142Grade Management                                                                           3300
     Effects clips are a fast and easily revised way to apply one or more grades and effects to a
     range of clips.
     TIP:Multiple adjustment layers can be grouped together so that you can apply Group and
     Clip grades to adjustment layers, linking multiple adjustment layers together in situations
     where you want to apply the exact same trim or stylistic adjustment to multiple scenes in non-
     contiguous areas of the Timeline.

Using Groups

Grouping is one of DaVinci Resolve's most powerful features for organizing grades amongst multiple
clips. Groups are manually created collections of clips with automatic linking relationships that make
it easy for you to control the rippling of grades among sets of clips that you define. When clips have
been grouped together, selecting one member of the group reveals a group "linked" badge at the top-
right of each clip's thumbnail belonging to the group.

                                                            The green link icon indicates                         COLOR
                                                            this clip is in a group

You can create as many groups within a single project as you need. You can add or remove shots from
the current group, and the current group is defined by the last shot you've selected (if it belongs to a
group, that's the new current group).

Once grouped, you can choose from one of four Node Editor modes to grade the current clip.
Which mode you choose determines whether that grade will automatically ripple to every other
member of that group, or whether the grade will only affect that one clip. In this way, you can combine
multiple node trees, some which will ripple, and one which won't, to create the final look of each clip in
that group.

     For example, you might group together every clip from the same angle of coverage in a scene.
     You might also group together every clip from a particular section of B-roll that will be graded
     with the same treatment. This way, whenever you make a change or otherwise update one
     member of the group using one of the rippled Node Editor modes, every clip in the group will
     be changed together.

     This section discusses how to create and manage groups, how best to use them, and what
     issues you need to be aware of to use groups to best advantage.

Color|Chapter 142Grade Management                                                                           3301
Creating and Managing Groups                                                                                   COLOR

The following procedures describe how to create, load, modify, and delete groups.

To create a new group:
1 Select one or more clip thumbnails in the Timeline. You can select a contiguous range of clips

     by clicking one and then Shift-clicking another, or you can make a noncontiguous selection by
     Command-clicking individual clip thumbnails anywhere in the Timeline.
2 Right-click one of the selected clip thumbnails, and choose Add Into New Group.
3 Type a name into the field of the Group Name dialog, and click OK.

     The new group is created, and the clips you had selected now appear with the "linked" group
     badge above the thumbnails.

To load a different group, do one of the following:
   Move the playhead to another clip that's a member of that group.
   Right-click any clip belonging to any group, and choose Group > "Name of group" > Load.
     The selected group now becomes the current group. Using the Add Into
     Current Group command will add a clip to the newly loaded group.

To add one or more clips to an existing group:
1 Load the group you want to add clips to.
2 Select one or more clip thumbnails in the Timeline. You can select a contiguous range of clips

     by clicking one and then Shift-clicking another, or you can make a noncontiguous selection by
     Command-clicking individual clip thumbnails anywhere in the Timeline.
3 Right-click one of the selected clip thumbnails, and choose Group > "Name of group" >
     Assign to Group.

     The selected clips now appear with the "linked" group badge above the thumbnails.

To remove one or more clips from an existing group:
1 Select one or more clip thumbnails in the Timeline that you want to remove from a group. You

     can select a contiguous range of clips by clicking one and then Shift-clicking another, or you can
     make a discontiguous selection by Command-clicking individual clip thumbnails anywhere in
     the Timeline.
2 Right-click one of the selected clip thumbnails, and choose Remove From Group.

To rename a group:
1 Right-click any clip belonging to any group, and choose Group > "Name of group" > Rename.
2 Type a new name into the field of the Group Name dialog, and click OK.

     The group is renamed. The new name appears as a new submenu of the Timeline
     contextual menu.

To delete a group:
   Right-click a clip belonging the group you want to delete, and choose Group >
     "Name of group" > Delete.
   This clears the group, while preserving the last applied grade within each clip.

DaVinci Resolve makes a default smart filter for all clips in the current group. It can be found in the
Clips drop-down, under Grouped > Current Group.

Color|Chapter 142Grade Management                                                                        3302
Using Group Modes to Control
Which Grades Ripple and Which Don't

When you create a group and then select any clip that is a member of that group, additional Node
Editor modes become available that let you apply multiple levels of grades to the clips in that group.

      Available options in the
      Node Editor modes drop-down

     For clips that aren't grouped, two dots at the top of the Node Editor let you switch between
     Clip and Timeline modes via a single click. If you're working on a clip that's part of a
     group, four dots will be displayed to allow fast access to the Pre-Clip and Post-Clip Group
     modes as well.

      Four dots at the top of the Node Editor                                                                    COLOR
      let you choose which mode you're working on

Node trees you create using the Group Pre-Clip and Group Post-Clip modes automatically ripple
changes to every member of a group. Node trees created with the Clip mode are specific to each clip.
Node trees created with the Timeline grade affect the entire Timeline, all at once. Combining node
trees made using these different modes makes it easy combine clip-specific changes with group-wide
changes that make grading faster.

   Group Pre-Clip: Node trees assembled in this mode affect every clip in the group simultaneously.
     Pre-Clip adjustments are useful for creating an overall grade that you want to use as a starting
     point for the scene, such as when you need to normalize a group of log-encoded clips in a specific
     way, or when you want to create a base grade that generally improves every clip in a scene.

   Clip: The Clip grade corresponds to the local or remote version associated with that clip. Node
     trees assembled in the Clip mode only affect the specific clip that's selected. All Local and Remote
     versions you create are in Clip mode. Clip adjustments are useful for matching clips to one another
     in a scene, doing clip-specific secondary adjustments, or making any other sort of adjustment that
     you only want applied to the current clip, rather than to the group as a whole. Clip adjustments are
     applied after Pre-Clip adjustments.

Color|Chapter 142Grade Management                                                                          3303
   Group Post-Clip: Node trees assembled in this mode also affect every clip in the group                         COLOR
     simultaneously, but these adjustments are applied after the Clip adjustments. Post-Clip adjustments
     can be useful for applying a creative look to an overall scene, so that later revisions to a scene's
     look can be accomplished with a single set of adjustments that automatically affect the entire group.

   Timeline: Node trees assembled in this mode affect every single clip in the entire Timeline.
     Timeline adjustments are useful when you have a single change that you want to apply to every
     single clip at once.

The image processing of each Node Editor mode is sequential, making it easy to keep track of the
order of operations affecting a particular clip.

An Example of Grading a Group of Clips

This section shows an example of how you might approach grading a group of clips using the different
Node Editor modes that are available. Keep in mind that this is only one of many possible approaches
you could take to the use of groups, and was chosen because it exercises everything you can do to a
single grade.

To get started, select a series of clips that you want to group, and right-click one of them and choose
Create New Group to group them together, entering a name and clicking OK when prompted.
One convenient advantage of simply creating groups from a selection is that you're not limited to
selecting a continuous range of clips in the Timeline. Another advantage is that you can use the View
> Timeline Thumbnail Mode > Source (C-mode) command, or Timeline filtering, to isolate the range of
clips you want to use for creating a group.

There are different ways you might choose to group clips together:

   All clips within a particular scene
   All clips recorded from a specific camera
   All headshots of a particular person
   All clips from a particular angle of coverage
   All exteriors of a particular location

     The list could go on and on, but you get the idea. You can group any selection of clips
     together that have reason to share a common grade. In this example, a series of shots from an
     exterior scene are selected and made into a group.

      Clips made into a group

Once you've created a group, choose Group Pre-Clip from the Node Editor mode drop-down. This is
the first grade that's applied, as the underlying grade that affects the entire group. Using this node
tree, adding a LUT to normalize the clips, a Color Wheel adjustment, and some Curve adjustments to
tune the color provide a primary grade that now affects every single clip in the group.

Color|Chapter 142Grade Management                                                                           3304
A primary adjustment applied to the Group Pre-Clip mode

With this accomplished, you can see there's some variation among the clips in the scene that needs
to be corrected in order for every clip to match. Choose Clip from the Node Editor mode drop-down.
Grades that you make in Clip mode only affect the clip to which they're applied, so now you can work
clip by clip using the Image Wipe and Split-Screen controls to compare clips and make whatever
adjustments are necessary to make each one match the main look for the scene.

Scene balancing adjustments made using the Clip mode

Once all the clips are balanced with one another, you can choose Post-Clip Group from the Node
Editor mode drop-down. This lets you add one more grade on top of the Pre-Clip and Clip grades that
you've already applied, that you can use for any number of things. In this example, a single stylistic
adjustment is applied that now affects all of the clips at once. If a client wants to see something
different, you can easily make the necessary changes to one clip, and all other clips in that group will
immediately be altered as well.

                                                                                                                COLOR

A stylistic adjustment applied to the Group Post-Clip mode

At this point, the scene is graded via a well organized set of corrections. If the client later wants a
change affecting the underlying primary grade that everything is built on, you can adjust the Pre-Clip
grade. If you spot an inconsistency with your shot matching at any point, you can make a fast tweak
to the relevant Clip grade. And if the client wants a stylistic change, you can make any necessary
adjustments to the Post-Clip grade to change the overall look of the whole scene. In each case,
groups give you total control over which adjustments will ripple across the whole group, and which
adjustments will be clip-specific.

Using Undo in Groups

Each Node Editor mode has a separate undo stack, meaning that separate multiple-level undo is
saved for Group Pre-Clip, Clip, and Group Post-Clip.

Color|Chapter 142Grade Management                                                                         3305
Saving Stills and Grades in Groups

When you save a still for a clip that's part of a group, the result is that the still reflects the look of the
combined Pre-Clip, Clip, and Post-Clip node trees, but the grade that's saved within depends on the
Node Editor mode you had selected when saving the still. For example, if the Node Editor is set to
Group Pre-Clip, then you'll only save the Pre-Clip grade; the Clip, Group Post-Clip, and Track grades
will be ignored. Copying a saved grade to a clip in a group results in that grade being copied to the
node tree of whichever Node Editor mode is currently open.

Collapse Group Grades

If you want to take a clip out of a group, but you want its grade to continue incorporating all
adjustments made in the Pre-Group and Post-Group Node Editor modes, you can use the Collapse
Group Grades command to copy all nodes in the Pre-Group and Post-Group grades to the Clip grade.
When you do this, Pre-Group nodes are added before any pre-existing nodes in the Clip grade, and all
Post-Group nodes are added after, in order to maintain the correct order of operations.

                                                                                                                      COLOR

(Top) The Clip node tree, (Bottom) After using the Collapse Group Grades command
to flatten the Pre-Group and Post-Group nodes into the Clip node tree

Color|Chapter 142Grade Management                                                                               3306
     To flatten all group grades into a single Clip mode node tree:                                                     COLOR
     Right-click a clip's thumbnail in the Thumbnail timeline, and choose Collapse Group Grades
     from the contextual menu.
     Using Collapse Group Grades on a clip always removes that clip from whatever group it was
     previously a member of. This can also be an easy way of creating a single flat node tree in
     preparation for saving a grade to the Gallery for applying to other clips that aren't themselves
     in groups.

Groups and Versions

Local or Remote versions you create relate only to the Clip grade. Group Pre-Clip and Group Post-Clip
grades cannot be versioned.

Exporting Grades and LUTs

If you find it necessary to exchange grades with other workstations, there are two ways you can do so
directly: by exporting grades, or LUTs. This section discusses the export of Grades.

     For more information about exporting LUTs, see Chapter 150, "Using LUTs."

To export a grade:
1 Save the grade you want to export as a still in the Gallery.
2 Right-click the saved still in the Gallery, and choose Export.
3 Select the image format you want to save the still as. Choices include: DPX, Cineon, TIFF, JPEG,

     PNG, PPM, BMP, and XPM.
4 Choose a location for the resulting still image and saved grade files, type a name into the

     Save As field, and click Save.
     Two files are saved. The image file contains the still image of the frame that was stored. A DRX
     (DaVinci Resolve eXchange) file contains all the grading information.

To Import a grade:
1 Right-click anywhere in the gray area of the Gallery, and choose Import.
2 Click the Options button to select the specific file type you want to import, or select "All Files"

     for multiple formats.
3 Choose the image file that was exported from your DaVinci Resolve workstation, or someone

     else's. The accompanying DRX file must be in the same location. If you lose the original image file,
     you can still import the DRX file by itself. It will preserve the node structure of the still, but you will
     not be able to wipe against it.
     The still you imported appears in the Gallery, containing the grading information you wanted
     to import.

Color|Chapter 142Grade Management                                                                                 3307
Chapter 143                                                                               COLOR

Node Editing Basics

This chapter covers the basics of using the Node Editor in DaVinci Resolve
to manage all of the adjustments you decide to apply to a clip, as well as the
fundamental procedures for editing and organizing nodes within a tree that are the
basis for creating more sophisticated effects.

Contents

Node Editor Basics3309
Thumbnail-Optional Nodes3309
The Node Editor Interface 3310
The Components of a Node Tree 3311
Node Badges and Labels 3313
Selecting Nodes 3314
Disabling Nodes 3315
Turning Grades and/or Fusion Effects Off 3316
Resetting Nodes 3316
Previewing and Restoring Node Trees3317
Caching Specific Nodes to Improve Performance3317
Editing Node Trees3317
Adding Nodes3317
Adding Nodes with Windows Turned On 3318
Deleting Nodes 3318
Connecting and Disconnecting Nodes 3319
Extracting a Node 3319
Inserting a Node 3319
Rearranging Node Order 3320
Copying and Pasting All Settings From One Node to Another 3320
Node Context Menu Actions Can Have Assigned Shortcut Keys 3320
Keeping Node Trees Organized 3321
Track Node Changes Using Color 3322
Using Node Stack Layers 3323
Copying Node Stack Layers 3324
Post Group Node Stack Layer 3324

Color|Chapter 143Node Editing Basics                                                3308
Using Compound Nodes 3324
Adding Inputs and Outputs to Compound Nodes 3326
Nesting Compound Nodes 3326
Grading Compound Nodes 3326
Identifying Nodes 3326
Putting Nodes into HDR Mode3327
Clip vs. Timeline Grading3327

Node Editor Basics

By default, every clip has one node in the Node Editor that contains the first corrections you make.
However, you also have the option of creating multiple nodes, where each node contains one or more
corrections that affect the image.

                                                                                                            COLOR

The Node Editor showing a reasonably full-featured grade

The specific arrangement of nodes you create lets you exert precise control over the order of
operations performed by your grade, which provides many advantages. This section covers different
ways of creating, editing, and arranging node trees to harness the full power of DaVinci Resolve.

Thumbnail-Optional Nodes

The Node Editor option menu provides a Show Thumbnails option that lets you disable or enable the
thumbnails attached to each Corrector node.

Color|Chapter 143Node Editing Basics                                                                  3309
Disabling thumbnails in the Node Editor option menu makes nodes shorter                                         COLOR

    How Many Nodes Do I Need to Use?

     In this chapter and the ones that follow, you'll learn many different techniques for combining
     adjustments and nodes in different ways to achieve highly specific effects. Consequently, new
     DaVinci Resolve users often wonder, how far do I go? There is no right answer, but suffice it
     to say that some of the world's leading colorists achieve stunning results in as few as three
     or four nodes, while others routinely build carefully organized hierarchies of ten to twenty
     nodes, or more. The number of nodes you use is often dependent on the quality of media
     you've been given to work with, as well-lit footage usually requires less work than material
     shot run-and-gun with available light, that typically needs many more adjustments to achieve
     an acceptable result. Furthermore, the number of nodes you may use can also depend
     on what kind of program you're working on, with commercial spots affording the colorist
     enough time in the schedule to build truly massive grades that adjust every little detail, and
     narrative features and television shows requiring you to work faster and do more within fewer
     adjustments in order to stay on track. The real answer? Each grade requires as many nodes as
     are necessary. No more, no less.

The Node Editor Interface

As you work within the Node Editor, you may find the need to zoom into or out of it to get a better look
at the node tree, and to pan around the working area to deal with large collections of nodes.

To expand the size of the Node Editor's working area:
   Drag the border between the Node Editor and the Viewer to the left or right to make it
     wider or narrower.
   Right-click anywhere within the Node Editor (except on a node) and choose Toggle Display
     Mode, which hides the Viewer and moves the Node Editor to the right of the Gallery, enlarging it
     considerably. Right-click and choose Toggle Display Node again to return to the default layout.

To arrange the node tree to fit your current working area:
   Right-click anywhere in the Node Editor (except on a node) and chose Cleanup Node Graph from
     the contextual menu. This will rearrange your node tree to fit in whatever size working area you
     have at the time.

Color|Chapter 143Node Editing Basics                                                                      3310
To zoom and pan within the Node Editor, do one of the following:                                                COLOR
   Use the Node Editor's zoom slider to shrink or enlarge the nodes in the Node Editor.
   Click the Pan tool (the hand icon) at the upper left-hand corner of the Node Editor, and drag
     anywhere within the gray area of the Node Editor to pan around.
   Press the H key to toggle between selection and pan modes in the Node Editor.
   Middle-click and drag anywhere within the Node Editor to pan around.
   Right-click and choose Zoom In or Zoom Out.
   Right-click and choose Zoom to Window to fit the node tree to the current size of the node graph.
   Right-click and choose Original Size to return the node graph to the default size.

                                                                   The Node Editor's
                                                                   Pan (Hand) tool

The Components of a Node Tree

Ambitious grades may require trees of multiple nodes to create the necessary effect. This section
covers the mechanics of putting nodes together into the structures that are described in more detail
later in this chapter.
Every node you add is a "Corrector" node, which is capable of either primary or secondary correction,
depending on whether or not you enable the Qualifier/Window/Matte controls. Even "Serial" and
"Parallel" nodes are simply Corrector nodes that are added in series or in parallel to the previous node
in the node tree; the names are a consequence of how they're added.
Each Corrector node has two inputs and two outputs, which lets you separately manage the RGB
image-processing channel, and the Key channel that defines areas of isolation for image processing
operations, or transparency for compositing. RGB connections are light green, located at the top left
and right of each node. Key connections are blue, located at the bottom left and right of each node.
Inputs into the node are triangles, and outputs are squares. These inputs and outputs let you control
the flow of image and isolation channels coming into and going out of each node in the tree.

                                                    A single node, the RGB (green) and key
                                                    (blue) triangular inputs and square outputs
                                                    are clearly visible

Nodes are attached to one another via "connections," seen as lines that connect one node to
another. Image data flows from left to right, starting with the Source input all the way at the left
of the Node Editor, through each node in the tree, and ending at the Node Tree output at the
right of the Node Editor.

Color|Chapter 143Node Editing Basics                                                                      3311
A simple serial arrangement of corrections                                                                        COLOR

Here's an explanation of the different components of a basic node tree where all nodes are connected
in serial, one after the other, and how they work together:

   Source Input: The green source node to the far left is the clip's image data as processed by the
     Sizing and Source decode settings, ungraded. The Source input feeds RGB data to the grade,
     and is connected to the RGB input of the first node in your tree. If necessary, you can connect
     the Source input to more than one Corrector node, creating multiple simultaneous streams of
     image processing emerging from the original source state of the image that you can eventually
     recombine in different ways using the Parallel or Layer Mixer nodes.

   Nodes: Each node in the node graph represents a collection of image processing operations that
     can be enabled or disabled separately from any other node in the graph. By separating operations
     into multiple nodes, you're able to precisely control the order of all image processing operations
     in DaVinci Resolve to create many different corrections and effects. The green RGB inputs and
     outputs are used to connect these nodes together. Each node's thumbnail image shows how the
     clip looks at that particular stage of the grade, giving you a visual indication of what each node is
     doing, and small badges below each node show you which specific operations are being applied
     by that node.

   RGB Inputs and Outputs: The green inputs and outputs at the upper right and left of each node
     are used to connect the RGB image that's output from one node to the RGB input of the next
     node. For a Corrector node to have an effect, you must connect both its RGB input and its RGB
     output to neighboring nodes in the tree. Furthermore, every single node in the Node Editor must
     be connected for a grade to be enabled; having any disconnected node in the node tree disables
     that grade until it's fully connected.

   Key Inputs and Outputs: The blue inputs and outputs at the bottom right and left of each node are
     used to route the key channel generated by a node's Qualifier or Window controls, or imported via
     a Matte clip that you previously associated with a clip in the Media page. When you connect the
     key output of one node to the key input of another, you basically copy the first node's key to the
     second node. You can also combine the key outputs of multiple nodes in various ways using the
     Key Mixer node.

   Node Tree Output: The RGB output of the last node in a tree must be connected to the green
     Node Tree output node, which "completes the circuit" of image processing, and passes that
     correction on to the next stage in the DaVinci Resolve image processing pipeline. If the output is
     not connected, the node tree is disabled and has no effect on the clip. You can only connect one
     RGB output at a time to the Node Tree output.

   Second Source Input (for RED HDRx): You can access the alternate highlight exposure of
     RED HDRx media by exposing this optional second Source input.

          For more information, refer to "MulitChannel RED HDRx Support" see Chapter 147,
          "Channel Splitting and Image Compositing,"

Color|Chapter 143Node Editing Basics                                                                        3312
   Second Source Input (from Fusion page): You can also create additional sources to route in
     masks or mattes created in the Fusion page for use as keys in the Color page.

   Alpha Output: It's possible to create regions of transparency for compositing directly in DaVinci
     Resolve by connecting a key output to an optional Alpha output.

          For more information, see Chapter 146, "Combining Keys and Using Mattes."

Node Badges and Labels

Nodes appear with various labels and badges to help you identify what each node is contributing to
the overall grade. How long a label and how many badges appear depends on the size of each node,
as set by the Node Editor's Zoom slider.

Nodes showing the kinds of labeling and badges that are available for                                          COLOR
identifying what operations each node is performing

     Node number: Nodes are numbered in the order in which they appear in the node graph.
     Adjustment badges: As you apply various operations within a node, small badges appear
     underneath the thumbnail that indicate which palettes have been used to adjust that node.
     How many badges are visible depends on how far in or out you're zoomed into the Node
     Editor, and whether or not there are Color Space or HDR labels already taking some of this
     room. At larger node sizes, more badges can appear within the width of the node. Each
     palette in the Color page has a unique badge. If you apply more operations than a node has
     area to display, a single "downward arrow" badge appears.
     Animation badge: Nodes with animated parameters display a keyframe badge.

Labeling Nodes

Nodes can be labeled to identify a particular node's function in your grade. This can make it easier to
revise a grade months later. Node labels are also saved when you save a still, so labels can also make
it easier to decipher a saved grade down the road. At each node's default size in the Node Editor,
nodes can appear with up to 12 characters of text, although larger nodes can accommodate more text.

To label a node:
1 Right-click a node and choose Change Label.
2 Type the label text you want and press Return.

     The label you entered appears above the node in the Node Editor.

To edit a node's label:
   Once a node has a label, you can change the label at any time by double-clicking it.

Color|Chapter 143Node Editing Basics                                                                     3313
Selecting Nodes

The node that's currently selected in the Node Editor is highlighted in orange, and is referred to as the
current node. When you adjust any of the parameters or settings in the Color page, you're adjusting
parameters within the current node. You can only select one node at a time.

To select a node, making it the current node, do one of the following:
   Click any node in the node graph.
   Choose Color > Nodes > Previous Node (Option-Shift-Semicolon) or Color > Nodes > Next Node
     (Option-Shift-Apostrophe). When you do this, the last node loops around to the first one,
     and vice versa.

The selected node appears highlighted in orange. You also have the ability to select multiple nodes,
in preparation for doing things like moving them or creating compound nodes (covered later in
this chapter).

To select multiple nodes:
   Command-click each of the nodes you want to simultaneously select.
   With the Node Editor Selection tool chosen (at the upper left-hand corner of the Node Editor)
     simply drag to select multiple nodes using a bounding box.

                                                                   The Node Editor's
                                                                   Selection tool

When you select multiple nodes, each one appears highlighted in white, with the exception of the
current node, which remains orange.

                                                                                                                 COLOR

Selecting three nodes by dragging a bounding box

When you select another clip in the Timeline, the default behavior is that the last node that was
selected when you worked on that clip is the one that's selected when you move to that clip
again. However, a setting in the option menu of the Node Editor and the Color panel of the User
Preferences, called "Switching clips," lets you change this behavior.

     For more information on this option, see Chapter 4, "System and User Preferences."

Color|Chapter 143Node Editing Basics                                                                       3314
Disabling Nodes                                                                                                     COLOR

In the process of creating a node tree, it's often useful to turn one or more selected nodes off to
disable their effect on your grade. It's also useful to turn the entire node tree off and on in order to see
"before and after" views of the current clip. Disabled nodes are not processed during rendering, and
they remain disabled when you save that grade along with a still in the Gallery and then apply that
grade to another shot.

Disabling Individual Nodes

Disabling a single node is useful for temporarily disabling adjustments that you don't think you want to
use but don't want to discard (however you should remember that it's alarmingly easy to inadvertently
turn these nodes back on again). It's also good for giving your client a before and after preview of the
last adjustment.

     To toggle individual nodes off and on, do one of the following:
     Click the number of any node in the node graph to disable that node by itself.
     Select a single node, and choose Color > Nodes > Enable/Disable Selected Nodes
     (Command-D).

Disabling Multiple Nodes All At Once

If you select more than one node in the node tree, using any of the methods of turning nodes off and
on described above (including Command-D) will toggle Enable/Disable Selected Nodes. Please note
that the current node outlined in orange is always considered to be part of the selection.
This makes it easy to do before/after comparisons of any combination of nodes doing complicated
adjustments by selecting them, while leaving un-selected nodes doing base adjustments that you
want to leave enabled alone.

Disabling All Nodes

In addition to the Bypass All Grades command, disabling all nodes of a grade at once is another easy
way of disabling a grade to provide a before and after of the original state of the clip (or the color
managed state of the clip if Resolve Color Management (RCM) is enabled). More importantly, it's a
good way to disable all nodes of a grade in preparation for walking your client through each operation
in that grade node by node, as you turn each node on in turn while narrating how it's improving
the image.

     To turn every node off and on at once, do one of the following:
     Choose Color > Nodes > Enable/Disable All Nodes (Option-D) to toggle all nodes off and on.

     IMPORTANT:When you turn every node off and then on again, every node is re-enabled,
     even nodes that had previously been individually disabled.

Color|Chapter 143Node Editing Basics                                                                          3315
Turning Grades and/or Fusion Effects Off

The Bypass Color Grades and Fusion Effects button/drop-down commands in the Viewer's title bar
are also available via View > Bypass Color and Fusion menu commands. Turning off Fusion effects in
the Color page is an easy way to improve playback performance on low power systems when you just
need to make a quick set of grading adjustments. Toggling grades off and on is also a convenient way
to quickly get a before and after look at a shot where the before goes all the way back to the source.

If you choose Toggle Bypass or click the Viewer control, you'll turn off whatever is checked in the
optional menu, which lets you choose whether or not you want to bypass both Color and Fusion, or
just one or the other.

(Left) Menu commands for bypassing Color and Fusion,                                                            COLOR
(Right) Edit page Timeline Viewer controls

Resetting Nodes

If you're dissatisfied with your current operations and want to start over, there are three ways you can
reset nodes in the Node Editor. These are available as items in the Color menu.

   Reset Selected Node Grade: Resets the currently selected node, eliminating all keyframes, to the
     default parameter settings.

   Reset Grades and Keep Nodes: Resets every node in the current node tree, without affecting the
     node tree's structure; all nodes remain where they were. However, each node has been reset to
     the default parameter settings.

   Reset All grades and Nodes: Deletes every node and keyframe, and restores a single node set to
     the default parameter settings.

You can also reset nodes using the mouse, which can be a quick thing to do if you're already working
in the Node Editor to accomplish other things.

Methods of resetting nodes with the mouse:
   To reset a selected node: Right-click that node and choose Reset Node Grade from the
     contextual menu.
   To reset all grades and nodes: Right-click anywhere in the background of the Node Editor, and
     choose Reset All Grades and Nodes from the contextual menu.

Methods of resetting nodes with the keyboard:
   To reset a selected node: Press (Shift-home).
   To reset all grades and nodes: Press (Command-home).
   To reset all grades and keep nodes: Press (Shift-Command-home).

Color|Chapter 143Node Editing Basics                                                                      3316
Previewing and Restoring Node Trees

There are two other methods of quickly dealing with unwanted changes you've made to node trees,
without needing to use undo.

     Preview Memory: Lets you preview the effect of any saved grade on the current clip. To
     preview, choose Color > Preview Memory (Option-Shift-P), and then right-click any saved still
     in the Gallery (or Memory) and choose Add Correction. In fact, you can use Add Correction
     to try out as many stills as you like. If you like any still's effect, then you can leave it be. If you
     don't like any of the stills you previewed, then choosing Color > Preview Memory again reverts
     the clip to the original grade.

     Original Memory: This command lets you quickly revert a clip's grade to its original state
     when you first selected that clip. It is accessed by choosing Color > Original Memory (Option-
     Shift-O). This is useful for getting immediately back to a clip's original grade if you've made
     a series of changes that you then regret. Selecting another clip in the Timeline and then
     reselecting the clip you made changes to resets what is considered to be the current grade.

Caching Specific Nodes                                                                                              COLOR
to Improve Performance

You can flag specific nodes to be cached, along with all nodes appearing upstream in that node tree.
By caching nodes using processor-intensive effects, you free up real time capability for the remaining
downstream nodes in a grade. Choosing Playback > Render Cache > User only caches nodes that
you've flagged for caching.
When you choose Playback > Render Cache > Smart mode, DaVinci Resolve automatically caches any
nodes that use Motion Blur, Noise Reduction, or OFX plugins, without you needing to do anything.

     To flag a node and all corrections made in upstream nodes for caching:
     Right-click any node and choose Node Cache > On from the contextual menu.

Editing Node Trees

There is no limit to the number of nodes you can create and connect to one another, and you
can make as many or as few parameter adjustments as you like within each node. The following
procedures describe the ways you can add nodes to the node graph as you build each grade's
node tree.

Adding Nodes

The simplest thing you can do to add to the complexity of a node tree is to add additional nodes, in
order to add more adjustments to the current grade. You can add nodes so that they're automatically
attached to nodes that are already in the node tree, for immediate adjustment, or you can add
unattached nodes to empty areas of the node tree in preparation for assembling a particularly
complicated and specific node tree to accomplish a difficult task.

Color|Chapter 143Node Editing Basics                                                                          3317
Methods of adding nodes to the tree using a mouse, tablet, or trackpad:                                       COLOR
   To add any kind of node to the node graph using the mouse: Right-click any node in the
     node tree, and choose the type of node you want to add from the Add Node submenu of the
     contextual menu.
   To add a disconnected node to the node graph: Right-click anywhere within the node graph's
     background, then choose Add Node > Corrector from the contextual menu. Disconnected nodes
     have no effect on a node tree until they're connected.

Methods of adding nodes to a currently selected node in the tree using the keyboard:
   To add a serial node after the currently selected node: Press Option-S key, choose Color >
     Nodes > Add Serial from the menu.
   To append a serial node to the very end of the node tree: Press Option-K, choose Color > Nodes
     > Append Node from the menu.
   To add a serial node before the currently selected node: Press Shift-S, or choose Color > Nodes
     > Add Before Current.
   To add nodes in parallel to the currently selected node: Press Option-P, choose Color > Nodes >
     Add Parallel from the menu.
   To layer nodes with the currently selected node: Press Option-L, choose Color > Nodes >
     Add Layer from the menu.
   To add an outside node to the currently selected node: Press Option-O, choose Color > Nodes >
     Add Outside Node from the menu.

Adding Nodes with Windows Turned On

There are also dedicated commands for adding serial nodes with Circular/Linear/Polygon/Curve
windows automatically turned on, for convenience.

To add a node to the tree with a Window automatically enabled:
Choose an item from the Nodes menu that corresponds to the following:

   Node + CPW: Circular Power window (Option-C)
   Node + LPW: Linear Power window (Option-Q)
   Node + PPW: Polygonal Power window (Option-G)
   Node + PCW: PowerCurve window (Option-B)
Whenever you add a node to a tree, it's numbered consecutively to come after the next most recent
node you'd added, regardless of the order in which it appears in the node tree. For example, if you've
already added three nodes, and then you decide to add another node in between Nodes 1 and 2, the
new node will be Node 4, and the order of the nodes will be 1, 4, 2, and 3.

Deleting Nodes

If there's a node that you no longer need, you can choose to remove it completely from the node tree
to remove its effect permanently.

To delete a node, do one of the following:
   Select a node, then press the Forward-Delete key.
   Right-click a node, and choose Delete Node.

After you've deleted a node, the node to the left and right of the node you deleted are automatically
connected so that the node tree is unbroken. Also, all the nodes in a tree are renumbered after
the deletion of any node, so there's no discontinuity in node order. For example, if you have three
consecutively numbered nodes in a tree and you delete the second one, the node that was formerly
number 3 is renumbered to be 2.

Color|Chapter 143Node Editing Basics                                                                    3318
Connecting and Disconnecting Nodes                                                                             COLOR

For a node tree to work, every node in the Node Editor must be connected into a working node tree,
from the Source input, through each node in the tree, to the Node Tree output. Any disconnected
node will result in that clip's grade being disabled. However, you may find the need to disconnect
some parts of a node tree in order to reconnect them in different ways.

To connect two disconnected nodes:
   Click and drag a connection from the RGB or key output of one node to the corresponding
     RGB or key input of another, and when the line highlights, release the mouse button.

To change the connection from one node to another:
   Move the pointer over the second half of any connection line between two nodes until it highlights
     blue, then click and drag it to reconnect it to another input, on that node or another.

To disconnect two nodes, do one of the following:
   Position the pointer over the right-hand side of a node connection so it highlights,
     and click it to delete it.
   Click a link to select it (selected links turn orange), and then press the
     Delete or Forward-Delete key.
   Right-click a link and choose Delete Link.

To overwrite a node's previous connection:
   You can drag a connection to a node input or output that's already connected, which will overwrite
     the previous connection with the new one you're dragging. When you do this, the connection
     that's about to be overwritten appears highlighted in orange.
   You can connect any node's RGB or Key output to as many inputs as you want, but you can
     only have one connection going to a node's input. The exception to this is a node with multiple
     inputs, designed to combine the output of multiple nodes. These include the Parallel, Mixer,
     and Key Mixer nodes.

Extracting a Node

Sometimes you need to remove a node from its current position in the node tree, such that the nodes
to the left and right of it automatically reconnect to one another, saving you from having to reconnect
them manually. This is called extracting a node.

To extract a node, do one of the following:
   Select a node, and choose Color > Nodes > Extract Current Node.
   Select a node, and press E.

Keep in mind that disconnected nodes in the node tree suspend grading altogether, so you'll want
to either reconnect that node to another part of the node tree, or delete it; you cannot leave it
disconnected in the Node Editor.

Inserting a Node

If there's a disconnected node in the Node Editor, there's a simple way you can insert it into the node
tree between any two other nodes. This also works for nodes that you're dragging into a node tree
from another source, for example, from the exposed node tree of a still in the Gallery.

To insert a disconnected node between two other nodes:
   Drag a disconnected node, or a node from another node tree, onto the connection between any
     two other nodes in a node tree; when a plus icon appears over the node you're dragging, drop it
     to insert the node.

Color|Chapter 143Node Editing Basics                                                                     3319
Rearranging Node Order                                                                                          COLOR

The order in which nodes are connected in your tree affects the result of a grade. For example, if you
boost the highlights in the first node, and then you try to isolate a portion of the picture in a second
node that you now realize has been clipped, you may to need to change your order of operations to
optimize your corrections.

To swap the contents of two nodes:
   Command-drag any node and drop it onto another node to swap the operations within each node.
     The nodes won't appear to have moved, but you should be able to tell from the node badges
     underneath that the operations have been reversed.

To move a node to any other position in the node tree:
1 Double-click any node in the node tree and press E to extract it, removing it from the tree so that it

     becomes unattached.
2 Drag the now-unattached node to the connection line between any two other nodes in the tree,

     and when a small plus icon appears, drop it to automatically connect that node at that position in
     the node tree.

Copying and Pasting All Settings From One Node to Another

The simplest thing you can do is to copy all of a node's settings and paste them into another node.
This makes it easy to duplicate things like windows, qualifier settings, keyframing, or motion tracking
that you want to reuse in another node as the basis for another operation. This is also a quick way to
manually ripple a change you make in a node to that same node in another clip's grade.

To copy a node's settings from one clip to another, do one of the following:
   Option-drag one node onto another. When you drop it, the settings of the node you dragged
     overwrite those of the node you dropped onto.
   Select a node with settings you want to copy and choose Edit > Copy (Command-C). Then, select
     a node you want to paste these settings to either in the current grade or in the grade of another
     clip, or create a new node, and choose Edit > Paste (Command-V) to paste the settings you
     copied. These pasted node settings overwrite any other settings that node previously used.

     NOTE:There are additional methods of copying nodes and individual node settings.

     For more information, see Chapter 142, "Grade Management."

Node Context Menu Actions Can Have Assigned Shortcut Keys

You can assign shortcut keys to common Node Context menu actions like Lock Node, HDR Mode,
Clean Up Selected Node Graph, etc. Go to Keyboard Customization > Commands > Panels > Color
Nodes to assign the shortcuts.

Color|Chapter 143Node Editing Basics                                                                      3320
Keeping Node Trees Organized

It's a good idea to keep the arrangement of your nodes in the node graph clean and neat. It'll make it
easier to read your tree if you need to revisit a grade later on, and it will also make it easier for other
colorists working on the same project to figure out what you're doing. The following procedures
describe how to rearrange the nodes in your tree, and the node tree working area, to help you keep
on top of your grades.

To move nodes within the Node Editor:
   Drag any node to a new position.
   Command-click or drag a bounding box around multiple nodes that you want to move, and drag
     them all to a new position.

Of course, it's easy to get carried away. If you've been working furiously on a complex grade and you
find yourself staring at a riot of disorganized nodes, it's easy to quickly reorganize your node graph
using a pair of commands in the Node Editor contextual menu.

To clean up the node graph, right-click the Node Editor and choose:
   Cleanup Node Graph: Moves all nodes in the node graph so they appear in an evenly spaced
     grid. Connection lines are routed around nodes to minimize clutter.

                                                                                                                   COLOR

Before/after using "Cleanup Node Graph"

                                         Color|Chapter 143Node Editing Basics                                3321
If your grading has gotten only slightly out of control, you can use the Cleanup Node Graph command
on multiple clips at the same time. To do so, select the clips whose node graphs you want to tidy up in
the thumbnail timeline, then right-click in on of their node graphs and choose "Cleanup Selected Node
Graphs" from the drop-down menu. This will perform a Cleanup Node Graph operation on all selected
clips at the same time.

Track Node Changes Using Color

The Color Page node graph (3-dot) option menu has an option to Track Node Changes Using Color.
This is a per system setting where the you choose the node color you want to apply to newly created
or modified nodes.

In a multi-user collaboration environment, each colorist can set their own preassigned node color.
Then, based on the node color, you can easily know who last modified a specific node. In single user
scenarios, this feature can be used to track changed nodes and grades after a particular point in time,
such as a client review session.

                                                                                                               COLOR

      Selecting Track Node Changes Using Color from the Node Graph option menu will subsequently
      change the color bar on a node after any modification made to that node. In this case, the
      Highlights node's color bar is now Violet after the Violet user has made a change to it.

Additionally, you can filter timeline clips by their node colors as well. To do this simply click the
Down Arrow in the Clips tab, hover over Node Color, and select the color you wish to filter by
clicking on it. You can repeat this process to filter multiple colors.
When set, only the clips that have the selected node colors will appear in the timeline.

Color|Chapter 143Node Editing Basics                                                                     3322
Using Node Stack Layers                                                                                          COLOR

Node Stack Layers allow the management of complex grading workflows by creating multiple
sequential node graphs that let you break up grades into separate sections. This allows users to
isolate related functions like stabilization, corrections, hero grades, and display trims into individual
node layers.

     Grade operations like ripple, reset, and editing can also be done on a per-layer basis. When
     you grab a still to the Gallery, all of the Node Stack Layers are saved as part of that still.
     Since Node Stack Layers are applied sequentially (in order from lowest to highest), you can
     also use them as highly customizable re-usable filters for your grades.

      The Node Stack Layers number and naming options in the Project Settings

     From Project Settings > General Options > Node Stack Layer Count, users can set the
     number of clip node layers. You can also add custom names to the layers such as "primaries,"
     "secondaries," "finishers," etc.

     NOTE: If for some reason you return to the settings and lower the amount of node stack
     layers later, all the grades in those layers are removed across your entire project. To get them
     back, simply add the layer numbers back in.

      The Node Stack Layer is navigated by clicking on the dots above the node graph
      or selecting the name of the active layer from the drop-down menu to the right.

Users can then select individual layers from the navigation dots above the node graph or from the
layer drop-down menu to the right.

Color|Chapter 143Node Editing Basics                                                                       3323
     IMPORTANT: All node layers are applied sequentially to the clip: pre-clip, L1, L2, L3, L4, post-
     clip, and then Timeline.

Copying Node Stack Layers

You can copy (not just apply) the Active Node Stack layer from a Timeline Clip in the Gallery. To do so,
right-click on a Timeline Clip in the Gallery and select Copy Active Layer.

Post Group Node Stack Layer

In Project Settings under General Options > Color, there is a checkbox called Post Group Node Stack
Layer. When you enable this checkbox, the last node stack layer is processed after the Group Post-
Clip node graph. This function allows you to dedicate the last node stack layer for post group grades
and transforms.

            Checking the Post Group Node Stack Layer box in Project Settings > Color

                                                                                                                COLOR

                                                     The revised node stack order now processes
                                                     Layer 3 Special Sauce after the Group Post-
                                                     Clip layer (that is automatically generated
                                                     when you group clips). Normally the
                                                     Group Post-Clip layer would be last.

Using Compound Nodes

Another node structure you can use to keep complex node trees organized is the compound
node. You can Command-click to select any number of nodes in the node tree (selected nodes are
highlighted white), and then use the "Create Compound Node" command to nest all selected nodes
inside of a single node.

Color|Chapter 143Node Editing Basics                                                                      3324
Before/after creating a compound node                                                                           COLOR

The resulting compound node that's created has as many inputs and outputs as are necessary to
accommodate the connection lines that attached the nodes you selected to the rest of the node tree.

You can use compound nodes to organize complicated node trees by nesting sets of nodes that work
together to do a specific thing within a single node. You can also turn a set of nodes that you're using
to create a specific effect into a compound node in preparation for saving to the Gallery. Creating a
library of effects in this way makes it easy to reuse them via the Append Grade command, without the
undue burden of adding lots more nodes to your grade later on.

Methods for creating and working with compound nodes:
   To create a compound node: Command-click each node you want to nest inside of a compound
     node to select them with a white highlight, or drag a bounding box around a group of nodes.
     Then, right-click one of the selected nodes, and choose Create Compound Node from the
     contextual menu.

   To edit a compound node: Either double-click the compound node you want to open or right-click
     any compound node and choose Show Compound Node from the contextual menu. The contents
     of that node appear in the Node Editor, taking the place of the overall node tree.

   To exit a compound node you're editing: To return to the top level node tree, double-click
     the leftmost item in the path control at the bottom of the Node Editor, or click the name of
     the compound node. You can also right-click in the compound Node Editor and choose "Exit
     Compound Node" from the contextual menu.

   To label a compound node: Right-click a compound node, choose Change Label from the
     contextual menu, and type a new label for that node. Press the Return key when you're finished.

   To decompose a compound node: Right-click the compound node you want to decompose,
     and choose "Decompose Compound Node" from the contextual menu. The compound node
     disappears, replaced by the original nodes within. Please note, if you had applied an adjustment to
     the compound node itself, that adjustment is lost when you decompose it back into its constituent
     nodes. If you want to preserve the compound node adjustment itself, you can copy it, then
     decompose the node, and then create a new node and paste the adjustment you'd copied.

Color|Chapter 143Node Editing Basics                                                                      3325
Adding Inputs and Outputs to Compound Nodes                                                                      COLOR

When you open the contents of a compound node using the Show Compound Node command, you
can make whatever adjustments you like to the node tree within, but you also have the option of right-
clicking within the Node Editor and choosing Add Source to add an input to the compound node, or
Add Output to add an output. Adding more inputs and outputs lets you set up the node to connect to
the rest of your node tree in more complicated ways. Disconnected inputs and outputs have no effect
on your grade.

Furthermore, you can also use the Add Alpha Source and Add Alpha Output contextual menu
commands to add KEY inputs and outputs to a compound node, making it easy to route key or alpha
channel data to other connections in the enclosing node tree.

Nesting Compound Nodes

Compound nodes can also be nested within other compound nodes, if necessary.

Grading Compound Nodes

After you've created a compound node, you can select it to make one or more adjustments using the
compound node itself, which effectively adds those adjustments after all other adjustments that take
place via the nodes that are inside of the compound node. This gives you the opportunity to "trim" the
effect that compound node is having on your grade, or to limit it using a qualifier or window.

To adjust the individual nodes nested within a compound node, you need to first open the compound
node. Then, you can select and adjust any node as you ordinarily would.

Identifying Nodes

As you make various adjustments to nodes, small badges appear underneath that indicate what each
node is actually doing. Since nodes are capable of holding multiple adjustments, any given node may
have multiple badges; how many badges a node can show depends on the zoom level of the Node
Editor. Larger nodes will show more badges, whereas smaller nodes will show fewer badges, hiding
whichever badges don't fit.

Another nice organizational feature of the Node Editor is an automatic tooltip that appears whenever
you hover the pointer over a particular node, that shows you a concise list of all the operations applied
to that particular node.

(Left) Badges underneath each node indicate which adjustments it contains.
(Right) Using a node's contextual menu to put that node into HDR mode

Color|Chapter 143Node Editing Basics                                                                       3326
Putting Nodes into HDR Mode

When using various grading controls in the Color page to grade wide-latitude images for HDR output,
you may find it useful to enable the HDR mode of the node you're working on by right-clicking that
node in the Node Editor and choosing HDR Mode from the contextual menu.

This setting adapts that node's controls to work within an expanded HDR range. Practically speaking,
this makes it easier to work with wide-latitude signals using controls that operate by letting you make
adjustments at different tonal ranges such as Lift/Gamma/Gain, Custom Curves, Soft Clip, and so on.

Clip vs. Timeline Grading

Ordinarily, the Node Editor has two modes. The default Clip mode lets you create individual
grades for each clip or group in the Timeline. However, the Timeline grade mode lets you apply a
single grade simultaneously to every clip in the Timeline, as seen in the Thumbnail timeline in the
following screenshot.

A paragon of sophisticated grading, the author applies a red edge vignette to                                  COLOR
every clip in the project simultaneously using the Timeline grade

There are a variety of reasons you might want to do this. For example, if you're working on a
commercial spot, you might elect to use Clip grades to do general correcting and scene-to-scene
balancing, and then use the Timeline grade to apply a single stylistic grade to the entire spot
simultaneously. That way, any changes the client wants made to the style of the grade can be instantly
applied to the whole spot.

Another example would be using the Timeline grade to apply corrections meant to address QC issues
running throughout a program, desaturating highlights or selectively darkening a specific shade of red
wherever it appears.

To switch between Clip and Timeline grading modes:
   Choose the mode from the drop-down menu at the top right of the Node Editor.

   Selecting Track mode in the Node Editor

 Click the dot in the Node Editor toolbar that corresponds to the Clip or Timeline mode

Two dots show whether you're in Clip or
Timeline mode; these can be clicked to switch

                                               Color|Chapter 143Node Editing Basics                      3327
     NOTE:When you reset the Timeline grade using the Color > Reset All Grades and Nodes
     command, the Output Sizing parameters are reset as well.

Two dots at the top of the Node Editor let you switch between Clip and Timeline modes via a single
click. If you're working on a clip that's part of a group, four dots will be displayed to allow fast access to
the Pre-Clip and Post-Clip Group modes as well.

      For more information about group grading, see Chapter 142, "Grade Management."

Timeline Grades and Saved Stills

When you save a Gallery still, the Clip and Timeline grades are both saved. However, when you apply
a grade from that still, you only apply either the Clip grade, or the Timeline grade, depending on which
mode the Node Editor is in.

     For more information on saving and applying grades, see Chapter 143, "Node Editing Basics."

                                                                                                                      COLOR

Color|Chapter 143Node Editing Basics                                                                            3328
Chapter 144                                                                                                    COLOR

Image Processing
Order of Operations

The addition of the HDR palette and Color Warper in DaVinci Resolve 17
necessitated an updated diagram of the order of all image processing operations in
DaVinci Resolve, from input through output.

A truly detailed breakdown now requires two charts as detailed in this chapter; the first chart details
the overall order of operations taking place on every page, while the second zooms into the specific
order of operations occurring within each node of the Pre-Clip, Clip, Post-Clip, and Timeline grades
that you create on the Color page. Understanding the order of operations presented here will make
it easier for you to control the power of the full DaVinci Resolve toolset.

Contents

Overall Image Processing 3330
Image Processing Within Grades 3331

Color|Chapter 144Image Processing Order of Operations                                                    3329
Overall Image Processing

In the following chart, each image processing operation in DaVinci Resolve is shown in the order in
which it's processed. Operations are color-coded to indicate the page on which those controls appear,
because in many cases page order does not determine image processing order. Why? Either to make
sure each operation is processed as cleanly as possible, or to give the user the maximum control over
the image. For both of these reasons, image processing order is carefully considered, and in some
cases the best result requires operations on different pages to alternate with one another.

Most of the time, this order of operations is irrelevant to the user who's only interested in the end
result. However, if you're trying to achieve something very specific, or if you're wondering why you
see a particular result when you use the features of the Cut, Edit, Fusion, and Color pages together
all at once, this chart should help make things clear. Finishing artists in particular should find this
chart illuminating.

                                                                                                               COLOR

The overall order of image processing operations in DaVinci Resolve, from input through output

Color|Chapter 144Image Processing Order of Operations                                                    3330
Image Processing Within Grades

For Pre-Clip, Clip, Post-Clip, and Timeline grades on the Color page, most Color page operations are
available within each Corrector node you add to the Node Editor. Within each node, these operations
take place in the following specific order.

The order of image processing operations that takes place within each Corrector node in the Color page             COLOR

Thanks to the modular operation of the Node Editor, if a pair of image processing operations you need
to use isn't in the ideal order for what you're trying to do, you can apply each operation using two
different nodes in order to force those operations into the order you want. Similarly, when using Layer,
Parallel, or Key mixer nodes, the order of operations can be seen in the visible arrangement of nodes
in your node graph.

That said, most colorists tend to spread different operations across multiple nodes, whether they need
to or not, for organizational purposes or to "sandbox" certain volatile decisions that might need to be
independently revised later. However, nothing's keeping you from using multiple operations within a
single node if you prefer a simpler node structure for your grading. Thanks to the flexibility of the Color
page, it's your choice.

Color|Chapter 144Image Processing Order of Operations                                                        3331
Chapter 145                                                                            COLOR

Serial, Parallel,
and Layer Nodes

This chapter covers the four fundamental node structures you can use to combine
Color page adjustments in even more detailed ways. These methods let you
control your order of operations and re-combine multiple versions of the graded
image in much more specific ways.

Contents

Serial, Parallel, and Layer Node Tree Structures 3333
Serial Node Structures 3333
Controlling What Feeds a Node's RGB Input 3333
Parallel Node Structures 3334
Layer Mixer Node Structures 3336
Layer Mixer Prioritization 3336
Using Composite Modes With the Layer Mixer3337
Adjusting Layer Node Strength Using Key Output Gain 3338
Converting Layer Mixers to Parallel Mixers 3339

Color|Chapter 145Serial, Parallel, and Layer Nodes                               3332
Serial, Parallel, and                                                                                             COLOR
Layer Node Tree Structures

There are several ways you can organize nodes in a tree. Each method lets you control a group of
image processing operations in different ways to achieve specific results. This section covers how to
use Serial nodes, Parallel nodes, and Layer nodes, as well as how to use LUTs, work with HDR media
that lets you combine two different exposures using two different Source inputs, and apply additional
project-wide adjustments using the Timeline grade.

Serial Node Structures

The simplest, and most common node structure is a serial cascade of nodes, where a linear series of
nodes is connected, one after another.

                             Serial nodes, where the output of one node feeds an altered image to the next

Much of the time, this method of constructing a tree of multiple operations is all you need to do. It's a
simple and intuitive way of organizing your adjustments, similar in principle to the stacks of layers used
in other grading and compositing applications to apply multiple operations to a clip.

Controlling What Feeds a Node's RGB Input

When you create a grade using serially arranged nodes, each node's output is used as the
next node's input, so the order in which the nodes are arranged determines the order of image
processing operations.
In the following screenshot, the node tree shows a series of three operations that are applied to a
log-exposed, low-contrast clip. The first node expands clip contrast and increases saturation. The
second node isolates the sky to intensify its color. The third desaturates and warms the image.
At right, you can see the result of this node tree.

                             Node 2 pulls a clean key from the image data fed it by Node 1

If, instead, we reversed the order of Nodes 2 and 3, the result will be a less effective key.

Color|Chapter 145Serial, Parallel, and Layer Nodes                                                          3333
                             By comparison, Node 3 pulls a less then optimal key
                             from the image data fed it by Node 2

Because the secondary operation is sampling the desaturated image, rather than the source, the HSL
Qualifier's key has less image data to work with, and thus you may get an inferior result.

Parallel Node Structures

Another way to organize your corrections is to use a Parallel node structure, which lets you apply
two or more overlapping adjustments at a single stage of a node tree. You can use the Parallel
node structure for organizational reasons when there is a group of secondary corrections that you
want to apply all at once. You can also use this structure for the unique way it blends overlapping
image adjustments.

The Parallel Mixer node that makes this possible has multiple RGB inputs and a single RGB output.
This lets the Parallel Mixer mix together multiple Corrector nodes, outputting a single image
as a result.

When you add a Parallel node to an existing node, DaVinci Resolve automatically adds one Corrector
node below the current node, and adds a Parallel Mixer node to its output.

                                                                                                             COLOR

                              Adding a Parallel node to Node 2 automatically adds the Parallel Mixer

     TIP:If you want to create a series of Parallel nodes that connect to the output of the currently
     selected node, create a Serial node before you create your first Parallel node.

If you're manually connecting another node to a Parallel Mixer node, you can drag from the output of
the node to the Parallel Mixer node, and it will automatically add an input for you.

Color|Chapter 145Serial, Parallel, and Layer Nodes                                                     3334
To create an additional, unconnected input on a Parallel Mixer node:                                              COLOR
   Right-click a Parallel Mixer node and choose Add One Input.

     Ordinarily, the RGB input of every Corrector node that's connected to a Parallel node is
     connected to the output of the same node. This results in a stack of nodes that take the same
     state of the image as their input. This makes it easy to apply multiple secondary operations
     without worrying about whether or not a change to one will affect the keys of the others.

                                     Further Parallel nodes can be added as
                                     you wish with each using a common source

If you add another node in parallel, the Parallel Mixer automatically adds another input. You can have
as many nodes in parallel as you need.
The adjustments made by all nodes that are connected to a Parallel Mixer are combined equally,
regardless of which nodes are highest. In the following example, a separate overlapping window is
applied by each of three nodes in parallel.

The Parallel Mixer blends all input nodes together

As you can see in the image at right, the three tints created by the overlapping windows are all mixed
together equally; the colors blend with one another as if they are optically mixed. Most of the time, this
is exactly what you want when you're blending overlapping naturalistic color adjustments.

Color|Chapter 145Serial, Parallel, and Layer Nodes                                                          3335
Converting Parallel Mixers to Layer Mixers

On the other hand, if you need your overlapping color adjustments to have priority over one another,
or if you want to combine multiple adjustments using composite modes, then you may want to use the
Layer Mixer node instead. If you've created a Parallel Mixer structure and you want to convert it to a
Layer Mixer, you can.

To change a Parallel Mixer node into a Layer Mixer node:
   Right-click a Parallel Mixer node and choose Morph Into Layer Mixer Node.

Layer Mixer Node Structures

The Layer Mixer is structurally quite similar to the layout used by the Parallel Mixer. However, there are
two key differences. First, the Layer Mixer node combines multiple adjustments with priority given to
the image adjustment in the lowest overlapping node input. Second, you have the option of combining
all of the Corrector nodes that are connected to a Layer Mixer using one of several different composite
modes, to create a wide variety of visual effects.
Because of their similarities, layering nodes with the Layer Mixer works in much the same way as
creating a Parallel node structure.

Layer Mixer Prioritization

In the following example, the same node structure from the Parallel Mixer example is shown, this time
with the three overlapping color adjustments mixed together using the Layer Mixer.

                                                                                                                  COLOR

The Layer Mixer prioritizes nodes connected to lower inputs
such that each node's output completely obscures whatever is behind it

Now, instead of the three adjusted color tints being blended, you can see that the blue tint, which is
connected to the lowest input of the Layer Mixer, is dominant and covers the overlapping regions of
the two other adjustments. Meanwhile, the green tint, which is connected to the middle input of the
Layer Mixer, covers the overlapping portion of the orange tint, which is connected to the highest input
of the Layer Mixer.

Rearranging which connections are attached to which Layer Mixer inputs changes each node's priority,
and like the Parallel Mixer, you can add more inputs manually, or by dragging the output of a node to
the Layer Mixer.

Color|Chapter 145Serial, Parallel, and Layer Nodes                                                          3336
The Layer Mixer's prioritization is most useful when you have an overlapping adjustment that you need
to override any other adjustments happening on that stack. In the following example, two nodes are
connected to the Layer Mixer node. Node 2 is applying a high-contrast, cool look to the entire clip.
Node 3 isolates the skin tone, which is unflattering with the background stylization, and applies a
different, more naturalistic adjustment.

                                  Using the layer mixer, grades on Node 3 will have a greater                     COLOR
                                  priority over Node 2, so the final grade combinµes the high
                                  contrast from Node 2 with the adjusted skin tone from Node 4

     Because of the Layer Mixer's prioritization, the adjustment made to the woman's skin tone
     completely covers the adjustment made to the node that comes above it, providing the best of
     both worlds with one simple adjustment.

Using Composite Modes With the Layer Mixer

You have the option of combining the adjustments made by all nodes connected to a Layer Mixer
node using the same Composite modes that are available when compositing clips in the Timeline. This
lets you combine different overlapping image adjustments using compositing math to achieve creative
effects or utilitarian fixes.
The following simple example shows two overlapping Corrector nodes connected to a Layer Mixer
node that's set to the Add composite mode. Node 3 has no adjustment, but Node 5 has an extremely
high-contrast curve adjustment applied, along with a blur, that effectively isolates the highlights of the
image and feathers them out.

Color|Chapter 145Serial, Parallel, and Layer Nodes                                                          3337
                                    Combining two nodes using the Layer Mixer                            COLOR
                                    set to Add to create a glowing effect

     By adding both treatments together, a hot glow has been created, blowing out the highlights
     of the image. Many, many other effects are possible using the different composite modes that
     are available.
     For more information on composite modes, see Chapter 50, "Compositing and Transforms in
     the Timeline."

Adjusting Layer Node Strength Using Key Output Gain

Whether you're combining overlapping corrections, or mixing different adjustments using Composite
modes, you'll run into situations where you want to reduce the influence of one overlapping
adjustment relative to the other nodes that are connected to the Layer Mixer node. This can be
accomplished using each overlapping node's Key Output Gain parameter, located in the Key palette.

                                              Using the Output Gain parameter in the Key palette

Color|Chapter 145Serial, Parallel, and Layer Nodes                                                 3338
Key Output Gain defaults to 1.00, but lowering this value reduces the strength of that node's
contribution to the Layer Mixer. Using the previous example, selecting Node 4 (the highcontrast
image used to create the glow), opening the Key palette, and reducing the Key Output Gain parameter
to 0.50 reduces the intensity of the Glow effect by half.
You can use Key Output Gain to mix the proportion of any number of overlapping adjustments in order
to create the perfect combination for your purposes.

     TIP:You can also use the Key Output Gain parameter to mix the proportion of adjustments
     being combined using the Parallel Mixer node.

Converting Layer Mixers to Parallel Mixers

You can easily convert a Layer Mixer to a Parallel Mixer should you discover that you need to mix your
overlapping corrections evenly rather than combine them with priority. Keep in mind that you'll lose the
ability to use Composite modes.

To change a Layer Mixer node into a Parallel Mixer node:
   Right-click a Parallel Mixer node and choose Morph Into Parallel Node.

                                                                                                                COLOR

Color|Chapter 145Serial, Parallel, and Layer Nodes                                                        3339
Chapter 146                                                                                                    COLOR

Combining Keys
and Using Mattes

A key is the actual image channel that's generated by different secondary
operations to isolate specific portions of images to work on.

This chapter covers different ways you can manipulate and combine keys from multiple nodes, or
propagate keys among nodes. It also shows different ways you can use mattes that are imported from
other applications, as well as how to use the Key palette to further manipulate keys in different ways.

Contents

Introduction to Manipulating and Combining Keys 3341
Outside Nodes 3341
Feeding Keys From One Node to Another 3342
Connecting Key Outputs to RGB Inputs, and Vice Versa 3344
Using External Mattes 3346
External Mattes to Limit Adjustments3347
Extracting External Mattes from OpenEXR Layers 3349
Using External Mattes to Add Texture3350
Using External Mattes to Create Transparency 3352
Key Palette Controls for the External Matte Node 3353
Using Mattes From the Fusion Page 3353
Using the Key Mixer 3356
Adding Two Keys Together 3356
Subtracting One Key from Another 3357
Adding Inputs to Key Mixer Nodes3360
Using the Key Palette 3361
Using the Key Palette to Affect Corrector Nodes 3361
Using the Key Palette to Adjust Key Mixer Controls 3362
The Many Uses of Key Output Gain 3363

Color|Chapter 146Combining Keys and Using Mattes                                                         3340
Introduction to Manipulating                                                                                   COLOR
and Combining Keys

Each node's key input and key output makes it possible to route key channel data from one node to
another so you can apply isolated corrections. Furthermore, the Key Mixer lets you combine a variety
of keys from different nodes to create more detailed keys with which to tackle complex operations.
This section covers all the ways you can recombine key data, as well as how keys can be used in
conjunction with the Alpha output to create regions of transparency in a clip for compositing right
within DaVinci Resolve.

Outside Nodes

Whenever you use a Power Window or HSL Qualifier to limit a correction within one node, a special
node structure lets you automatically create a second node, called an Outside node, to apply
additional adjustments to the inverse of the region you isolated in the previous node. Outside nodes
are really just Corrector nodes with the Key Palette's Key Input Invert control enabled, which makes it
easy to apply separate corrections to an isolated subject and to its surroundings.

                                          The Key Input Invert button, in the Key palette, that
                                          inverts any key fed to that node's Key Input

In the following example, the sky has been isolated using a Power Window, and an Outside node has
been added to make an additional correction to everything else within the shot.

                                          The Outside node automatically has its key input inverted.

To add an Outside node to a node, creating a secondary correction:
1 Select a node that has been limited using a Power Window or HSL Qualifier.
2 Do one of the following:

      Choose Nodes > Add Outside (Option-O).
      Right-click a node choose Add Outside Node.

Color|Chapter 146Combining Keys and Using Mattes                                                         3341
A new node is created immediately after the selected node, with the RGB and key outputs of the first           COLOR
node automatically connected to those of the new node.
When selecting the new node and opening the Key palette, you can see that the Key Input's Invert
control is on by default, which is what inverts the key from the previous node.

                                          The Key Input Invert control is on by default for each node.

If, instead of using the Outside node to invert the incoming key, you want to copy the existing key
in order to perform another operation to the same isolated region, you can disable the key input's
Invert control.

Feeding Keys From One Node to Another

One of the most powerful aspects of the Node Editor is the ability to create keys based on a specific
part of the node tree, and feed the result into a completely different correction somewhere else in the
node tree. This is one of the reasons for the separate key input and output on every Corrector node.
The key that's created whenever you use the HSL Qualifier, create one or more windows, or use an
external matte can be output from one node's key output and fed to the key input of any other node
in a tree. There are many reasons to do this, but the following example shows a common problem you
can solve with this technique.

Using a key from one node to make an adjustment with a different node:
1 Use Node 1 to apply a basic primary correction, increasing contrast and balancing the color to

     achieve a pleasing ambient color temperature.
2 Add a Serial node (Node 2), followed by a Layer Mixer node which also adds Node 4 (as seen

     in the following screenshots). Then, completely desaturate Node 4 and add contrast to make it
     super-high contrast black and white, desaturate Node 2 just a bit, and right-click the Layer Mixer
     node to choose the Overlay blend mode with which to combine these two layers.

A group of nodes to create a stylized image

                                             Color|Chapter 146Combining Keys and Using Mattes            3342
     The result is a highly stylized image, but the skin tone on the actor's face and hands in the
     resulting image are too monochromatic, and you want to give them some differentiation. Simply
     adding another node after the Layer Mixer and keying the skin tone may not work well because
     the low level of saturation will make a key difficult to pull.

                                          The resulting stylized image may be difficult to key accurately.

3 Add another node after the Layer Mixer (Node 5 in the screenshot), and then right-click in the gray
     background area of the Node Editor, and choose Add Node > Corrector to create an unattached
     node, (Node 6).

4 Connect the RGB output of Node 1 to the RGB input of Node 6, and then connect the key output of
     Node 6 to the key input of Node 5. Now you're ready to pull a high-quality key from the very first
     correction in Node 1, skipping all the complication coming afterwards.

5 Use the HSL Qualifier in Node 6 to pull a good strong skin tone key based on the primary image.
     Given the way the node tree is now set up, that key is fed to Node 5, and will limit whatever
     adjustments you make there.

                                                                                                                  COLOR

      Using Node 6 to pull a key from the image output by Node 1, and feeding that key to Node 5

6 Now, you can make your adjustment to Node 6's grade, to lower the contrast, brighten, and
     increase the saturation of the actor's skin tone.As a result of this operation, the background
     remains desaturated and contrasty, while the actor's skin tone has the brighter quality we need
     for the shot.

Color|Chapter 146Combining Keys and Using Mattes                                                            3343
(Left) An entire clip with a high-contrast grade, (Right) The skin tone graded
differently from the high-contrast grade using a key

     This example could have been handled in a variety of different ways, but the point is that you
     can add nodes that connect to the state of the image at any part of a node tree, and use them
     to generate keys to feed to any other node, regardless of what's happening to the picture
     in between.

Connecting Key Outputs to
RGB Inputs, and Vice Versa

There's another way you can manipulate a key from one node using another in the Node Editor, and
that's to connect the key output from one node to the RGB input of another node. When you do this,
you can use any of the controls of the second node to manipulate the key, and you can then use the
result by connecting the RGB output of the second node to the key input of a third node.

                                                                                                              COLOR

      Connecting a key output to an RGB input to adjust a key with a second node's controls

In the node tree shown above, Node 2 pulls a key, Node 4 manipulates the key, and Node 3 uses the
key to make a color adjustment.

Keep in mind that a key is just a grayscale image. Setting up this kind of node structure lets you
use any of the second node's controls, such as the Custom Curves, Noise Reduction or Motion Blur
controls, Sharpen, Midtone Contrast, Lift/Gamma/Gain, Contrast, or Log controls, to manipulate the key
in ways you couldn't do using only the Matte Finesse controls.

Color|Chapter 146Combining Keys and Using Mattes                                                        3344
While this technique may not be necessary for conventional color isolations, it can come in very handy
when making tricky isolations with hard to key subjects, or when using one of the Qualifier modes
to pull a key to create transparency for compositing using the Node Editor's Alpha output. In this
instance, you can connect the RGB output of a node used for key manipulation directly to the Alpha
output. In the example, Node 1 pulls a key, and the RGB is connected to Node 3 which is used to
color correct the foreground image. The key from Node 1 is connected to the RGB of Node 2, which
manipulates the key to clean it up prior to connecting it to the Alpha output block at the bottom right of
the Node Editor.

      Connecting a key output to an RGB input to adjust a
      key used to create transparency via the Alpha output

Furthermore, this capability also lets you create keys in other ways besides using the Qualifier palette
controls. In the following example, the Contrast and Custom Curve controls in Node 3 create a high-
contrast matte of the windows which is blurred. The RGB output of Node 3 is then connected to the
KEY input of Node 2, where the resulting key can be used for a variety of adjustments; in this case,
to tint the product within the image green. Alternately, this technique could be also be used to create
transparency via the Alpha output.

                                                                                                                  COLOR

      Using a high-contrast color correction as a key

You can manually connect RGB inputs and outputs to Key inputs and outputs by dragging links
between them. Alternatively, you can drag and hover a node over an RGB or Key link to insert it.
Interconnecting key and RGB inputs and outputs is a powerful capability that lets you create many
kinds of workarounds for uncommon situations.

Color|Chapter 146Combining Keys and Using Mattes                                                            3345
Using External Mattes

The External Matte node has evolved over the years. What was once purely a means for importing
matte channels for defining opacity and limiting adjustments has expanded to become a way to import
the RGB channels of a media file to be used for overlaying grain, texture, and stylized distress onto an
image, and even as a way to use the channels of a clip itself as a matte.

Matte clips can be added to your project in one of two ways:

   You can add mattes using the Media page, either by attaching them to a clip so a particular matte
     is only available to a particular clip as part of a Clip grade, or you can add timeline mattes that
     stand alone in the Media Pool, which are then available to any Track grade.

   You can also add a matte to a clip using the Media Pool in the Color page, by dragging a clip from
     the Media Pool to the Node Editor. When you do so, that clip is turned into an external matte in the
     current grade, which you can use as a matte for secondary adjustments, or as a compositing layer
     (in conjunction with the Layer mixer) for mixing textures or images with your grade. That clip is also
     automatically attached to the Media Pool clip that corresponds to the clip you're grading, as a clip
     matte, to help you keep track of which clips are using other clips as mattes.

     For more information about adding matte clips in the Media page, refer to "Adding and
     Removing External Mattes" see Chapter 18, "Adding and Organizing Media with the
     Media Pool.""

Whether attached or unattached, mattes operate within a grade using EXT MATTE (external matte)
nodes. EXT MATTE nodes have the following outputs:

                                                                                                                   COLOR

                                  An external matte connected to the first node of a grade

 EXT MATTE Outputs: Four blue square key outputs let you output the channels contained within
  the EXT MATTE node, but which channels are available affects what is output. If the EXT MATTE
  node's source clip has RGBA channels, then these are available as Alpha, Red, Green, and Blue
  key outputs that you can attach to any other node's key input. On the other hand, if the EXT
  MATTE node's source clip only has RGB channels, then the key outputs that are made available
  are Y (luma), Red, Green, and Blue, and a "Use Lum for Alpha Output" setting in the Node Editor
  contextual menu lets you use the Y channel as a matte.

  An interesting aspect of these four outputs is that each one is dedicated to individual A, R, G, and
  B color channels. Ordinarily, External Matte clips are written with matte data written simultaneously

Color|Chapter 146Combining Keys and Using Mattes                                                             3346
     to all three RGB channels. However, you could also render separate pure primary-colored mattes              COLOR
     to each color channel (a so-called "disco" matte), so that the Red channel has one matte, the
     Green channel another, and the Blue channels still another, thereby exporting three separate
     mattes within a single media file, for convenience. If you add another matte to the Alpha channel,
     you can even export four mattes within a single file. You can then use each one of these mattes
     individually by connecting the correct output of the EXT MATTE node. (Note: For backward
     compatibility, projects from versions of DaVinci Resolve previous to 12.5 continue to output RGBY
     from the square outputs, not YRGB.)
   RGB Output: A square green RGB output lets you connect the RGB image data of a matte clip to
     any other clip's RGB input. This is especially useful when you're combining a matte clip with the
     current clip using a Layer Mixer node, to create a textured composite of some kind.

External Mattes to Limit Adjustments

Going back to the External Matte node's original use, mattes are typically grayscale media files that
represent image opacity, and are meant to be used either as alpha channels for creating opacity within
a corresponding RGB clip, or as a matte for limiting effects.
An example of a matte channel would be the key created by a green screen keyer. If you output just
the key, that would be an external matte. If you receive an external matte along with an effects clip,
you can attach the matte to its corresponding RGB clip in the Media page. Then, you can access that
matte via an External Matte node in the Node Editor, so you can use the key it outputs to limit different
kinds of corrections you want to apply.
In the following example, the keyed matte of a green screen composite clip is used to apply different
corrections to the inside and outside of a keyed composite, in order to make the subject match the
background more convincingly.

                                                   A matte attached to clip Makeup_Green.mov,
                                                   as seen in the Media Pool

To use a clip matte to limit an adjustment within a Clip grade:
1 Right-click any node, and choose the attached matte you want to use from the Add Matte

     submenu of the contextual menu.
     By default, the EXT MATTE node that appears has its first output connected to the Connect one of
     the EXT MATTE node's triangular key outputs to the key input of a node you want it to limit.
2 Select the node to which the EXT MATTE node is attached, and add an Outside node to make it
     possible to add adjustments on either side of the matte.

Color|Chapter 146Combining Keys and Using Mattes                                                           3347
      Node Editor displaying the influence of the external matte
      on multiple nodes when the keys are linked

3 If necessary, select Node 1, and use the Key palette controls to modify the incoming key, inverting
     or blurring it as necessary to create the isolation you need.

          NOTE:Don't select the EXT MATTE node, because it exposes different controls in the
          Key palette for transforming, flipping, looping, and freezing the matte.

     At this point, you can add adjustments to the inside and the outside of this composited shot to
     improve the composite.

                                                                                                               COLOR

      (Before/After) An external matte is used to apply separate grades to the
      foreground and background of a previously composited clip

     Ideally, external mattes are exported so that they match the size and duration of the RGB clip
     they're supposed to accompany. If they don't match or if you're using some other grayscale clip as
     an external matte to create some sort of effect, then there are parameters in the Key palette that
     you can use to retime or transform a matte so it works better in your grade.

To slip the sync of a matte relative to the clip it's attached to:
1 Select the Ext Matte node you want to slip.
2 Open the Key palette, and turn off the Lock Matte checkbox.
3 Raise or lower the Offset parameter until the matte is perfectly aligned with the clip it's

     supposed to match.

Color|Chapter 146Combining Keys and Using Mattes                                                         3348
To transform a matte:
1 Select the Ext Matte you want to transform.
2 Open the Key palette, and turn off the Lock Matte checkbox.
3 Use the Pan, Tilt, Zoom, Rotate, Width, Height, HFlip, or VFlip parameters to adjust the matte so it

     has the correct geometry.

It's worth mentioning that you can attach as many external mattes to a single clip in DaVinci Resolve as
you like. For example, if a CGI shot has been delivered with a set of isolation mattes for each of three
characters in the scene, you can import all three mattes and use them to isolate adjustments that you
want to make in the Node Editor.

Extracting External Mattes from OpenEXR Layers

OpenEXR media is capable of containing multiple layers and multiple alpha channels, which can also
be accessed from EXT MATTE nodes. As a result, DaVinci Resolve uses a slightly different but related
procedure for accessing these mattes.

To extract OpenEXR layers as external matte nodes:
1 Right-click any node, and choose the .exr clip name from the Add Matte submenu of the

     contextual menu.
     By default, the EXT MATTE node that appears has its first output connected to the Connect one of
     the EXT MATTE node's triangular key outputs to the key input of a node you want it to limit.

2 Double-click the EXT MATTE node to select it, then right-click it and choose which layer you want
     to use from the Select Matte submenu.

                                                                                                                COLOR

      Right-clicking an OpenEXR file's EXT MATTE node to choose which layer to use

OpenEXR files with multiple RGBA layers (or passes) embedded within them (RGBA + RGBA + RGBA
and so on) or OpenEXR files with multiple alpha channels (RGBA + A + A) expose multiple entries
in this submenu. Whichever one you choose is the layer that will be used as a matte by that EXT
MATTE node.

Color|Chapter 146Combining Keys and Using Mattes                                                          3349
Once you've extracted an OpenEXR layer, you can use it as you would any other EXT MATTE node
described in this section, to limit adjustments (as seen above), or to add texture or transparency (as
seen in the following sections).

When working with a node with multiple matte layers, such as an .exr file, you preview individual matte
layers. To do so, right-click on the node, select Add Matte from the contextual menu, and hover over
the name of the file. A list of all the layers in the node will appear, and by holding down the Option key
while hovering over each layer, it will appear in the Viewer. This can let you quickly check to see if you
are working with the correct matte layer (arm, wheel, shirt, etc.), regardless of what the matte has been
named in the file.

Using External Mattes to Add Texture

You can also use external mattes as creative tools, to add grain and texture. For example, you might
use a more abstract animated matte, or a grayscale film scan of dirt and dust, to apply correction
for effect.

                                                                                                                  COLOR

Light leak and dirt and dust images From Warren Eagles' Scratch FX
collection (FXPHD), designed to add texture to your grades

Color|Chapter 146Combining Keys and Using Mattes                                                            3350
Once attached to a clip, external mattes can be exposed in the Node Editor, and their key output can
be used just like any other key in a node tree.

To use a clip matte to create texture for a Clip or Timeline grade:
1 When applying a matte as part of a Clip or Timeline grade, right-click any node and choose the

     attached or timeline matte you want to use from the Add Matte submenu of the contextual menu.
     Unattached mattes appear in the Add Matte > Timeline Mattes submenu.
2 Disconnect the EXT MATTE node's key output connection to the Key input of the node it's
     connected to by default.
3 Add a Layer Mixer to the end of the node tree.
4 Disconnect the bottom Corrector node's RGB input, and then connect it to the EXT MATTE node's
     square RGB output.

      A node tree set up to feed an EXT MATTE node's RGB output to the input of a node connected                COLOR
      to a Layer Mixer, in order to blend it with the grade using composite modes

5 Right-click the Layer Mixer node, and choose Overlay from the Composite Mode submenu to
     blend the Ext Matte node most effectively with the grade.

6 If necessary, you can use the grading controls of the Corrector node to which you've attached the
     EXT MATTE node to change the characteristics of the texture clip, desaturating it for instance. You
     can also select the EXT MATTE node itself, open the Key palette, and use the Transform, Offset,
     Loop, or Freeze controls described later to change how the matte appears.

                              The resulting texture effect, blended with the
                              grade using the Overlay composite mode

TIP:If you want the texture you create to be unaffected by blur or sharpening operations
within the grade, be sure to add it to the very end of the node tree.

Color|Chapter 146Combining Keys and Using Mattes                                                          3351
Using External Mattes to Create Transparency                                                                 COLOR

You can also use an EXT MATTE node to create transparency in a clip, for compositing with clips
underneath it on the Timeline.
To use a clip matte to create transparency in a clip:
1 Right-click any node, and choose the attached matte you want to use from the Add Matte

     submenu of the contextual menu.
     Adding an EXT MATTE node to a Clip grade applies the effect to only that clip, whereas adding an
     EXT MATTE node to a Track grade applies the effect to the entire Timeline.
2 Right-click any empty area of the Node Editor, and choose Add Alpha Output to reveal the Node
     Tree output on the right that lets you assign a key to be used to define clip transparency.
3 Connect one of the EXT MATTE node's triangular key outputs to the Alpha output at the right of
     the Node Editor.

      The node setup for using an external matte to composite two layer

     The areas of the matte defined by the key are now rendered transparent.

                                          The final composite created
                                          using the external matte node

Color|Chapter 146Combining Keys and Using Mattes                                                       3352
Key Palette Controls for the External Matte Node

When you select an EXT MATTE node, the Key palette displays different parameters only for mattes.
Be aware that you must turn off the Lock Matte checkbox before you can make adjustments to
transform the matte.

      The Key Palette showing a texture layer added as an EXT MATTE node                                         COLOR

   Transform: Standard Pan, Tilt, Zoom, Rotate, Width, and Height parameters let you transform a
     matte to fit the image better.

   Flip Image: Two buttons let you flip the matte clip horizontally or vertically.
   Offset: Adjust this parameter to offset the start point of a matte clip.
   Freeze: Turning on this checkbox freezes the matte clip on a single frame. Adjust the Offset

     parameter to choose which frame to freeze on.
   Loop: Turning on this checkbox enables matte clips to loop endlessly, which lets shorter matte

     clips cover longer durations.
   Lock Matte: When turned on, locks the sizing of a matte to whatever changes are made to the

     Input Sizing of that clip, so the matte transforms to follow the clip.

You can also use external mattes as creative tools. For example, you might use a more abstract
animated matte, or a grayscale film scan of dirt and dust, to apply correction for effect.

Using Mattes From the Fusion Page

If you're grading a composite that's been created in the Fusion page, you can feed mattes created in
different parts of a Fusion composition to the Color page to use in the grade as well. For example, if
you're grading a composite of a foreground actor who's green screen keyed against a background
layer, you might want to use the matte generated for the key to protect the foreground subject from an
operation in your grade that you only want to affect the background. Happily, this is easy to set up.

In the following Fusion composition, two DeltaKeyer nodes (one to create an overall matte, and
one to create a solid matte protecting the core) and one BSpline node (to create a garbage matte)
work together to create a finely-tuned matte. This matte is used by the Merge1 node to preserve the
subject's hair and composite them in front of a gently blurred (using the LensBlur node) planet, with the
final result connected to the MediaOut1 node, which feeds this image to the Edit page and Color page
for continued adjustment.

Color|Chapter 146Combining Keys and Using Mattes                                                           3353
A green screen composition in the Fusion page, outputting the RGB in                                           COLOR
MediaOut1, and the foreground matte in MediaOut2

Because the Merge1 node outputs the entire composition as a single image, a second MediaOut node
(highlighted) is added to output the matte, just in case the colorist might want to use it later.

     TIP:In this composition, the foreground and background images are different sizes, so
     outputting the alpha channel of the DeltaKeyer1 node would result in a matte sized to match
     the foreground image, but that doesn't fit the composition, which is cropping the top and
     bottom of the foreground image based on the frame size of the widescreen background
     image. To get around this, the foreground and background images are composited a second
     time using the Merge2 node, which has the Operator parameter set to "In" to output just the
     foreground image and matte, as resized by the Merge operation. The resulting MediaOut2
     node thus outputs a foreground matte that's properly sized to fit the composition.

On the Color page, the grade in node 1 is applied to the overall final result, which is a single image.
After grading, it's decided that the woman appears a bit warm relative to the cool blue of the
planet behind.

Color|Chapter 146Combining Keys and Using Mattes                                                         3354
The composition as it appears in the Color page Node Viewer

Right-clicking the background of the Node Editor and choosing Add Source adds a second source at
the left of the Node Editor.

                                        Adding a source to bring in the MediaOut2 node's                       COLOR
                                        matte output from the Fusion page composition

This second source corresponds to the second MediaOut node you added to the Fusion page
composition, which outputs the Matte as a key in the Color page, usable just like any other key. If you
hover your pointer over each source, a tooltip appears letting you know which output corresponds to
which node.

                                                               Hovering the pointer over a
                                                               source identifies it in a tooltip

Generally, sources are arranged from top to bottom from the first MediaOut node appearing in a
Fusion composition to the last. At this point, you can connect the second Source to the Key input of a
second corrector node, using that key to selectively grade just the woman in the foreground (grade
exaggerated for effect), without affecting the background. The Viewer is shown with Splitscreen set
to Highlight Modes, so you can see the result as well as the key from the Fusion page that's being
used by Node 2.

Color|Chapter 146Combining Keys and Using Mattes                                                         3355
Connecting the second source to a second Corrector node's KEY input to use                                        COLOR
the matte to limit a correction made to the foreground character

Using the Key Mixer

The Key Mixer node lets you mix keys output from multiple Corrector nodes, combining them in
different ways to create a single key output. This makes it possible to build much more intricate keys
than you can with a single qualifier or set of four windows. In particular, the Key Mixer node is the only
way to combine multiple keys made using qualifiers and windows, adding, subtracting, or intersecting
them to create a highly specific result.

Adding Two Keys Together

In the following example, you'll learn how to set up a Key Mixer to combine the keys output by two
Corrector nodes in a node tree. Then you'll learn how to change the way the input keys are combined
using the Key palette.

To combine two or more keys using the Key Mixer:
1 Right-click anywhere on the gray area of the Node Editor, and choose Add Node > Key Mixer.
2 Create two Corrector nodes, then attach their RGB inputs to the RGB output from an appropriate

     node in the main part of the tree, and attach their key outputs to the key inputs of the Key Mixer.
3 Next, attach the key output of the Key Mixer node to the key input of the node you want to use to

     make the correction. Remember, the objective is to use the key that's output by the Key Mixer to
     limit the adjustment being made using another node, in this case Node 3.

Setting up the node tree you'll need to combine two keys together

Color|Chapter 146Combining Keys and Using Mattes                                                            3356
     Keep in mind, especially since this is a significant reordering of nodes in the Node Editor, that
     every node needs to be connected properly for the overall grade to work.

4 Now that the node structure is fully connected, use windows, qualifiers, or both to create keys in
     each of the nodes that you connected to the Key Mixer. In this example, Node 2 is isolating the
     main skin tone, and Node 5 is isolating the blue of his jeans and hood.

     By default, all keys connected to the Key Mixer are added together, as you can see in the
     Key Mixer's thumbnail.

      Combining multiple keys with the Key Mixer                                                                COLOR

     If you wanted, you can use the controls in the Key palette to change this, in order to isolate the
     intersection of two keys, or to subtract one key from another. This is covered in the next section.

5 Continuing with the previous setup where both keys are added together by default, selecting
     Node 3 and dropping the saturation to be very faint stylizes the entire background, while leaving
     the various hues of the man we've isolated alone.

                                           Final grade, the talent in color with a B&W background

Subtracting One Key from Another

The way multiple keys are combined within the Key Mixer depends on a pair of Key Input buttons you
can toggle using the Key palette. In the following example, a partial green tint is washed throughout
the midtones of the image using a qualifier, but you want to exclude the man's skin tone from this
operation. Using the Key Mixer, you can subtract one key from another to accomplish this with ease.

Color|Chapter 146Combining Keys and Using Mattes                                                          3357
                                           A selective blue tint added to the midtones
                                           of the image includes the red sign.

To change the Key Input settings for a node connected to a Key Mixer:
1 In this example, Node 2 is isolating part of the midtones of the image, and feeding its key through

     the Key Mixer to Node 4, which is using it to apply a partial blue tint. However, in preparation for
     subtracting the skin tone from this operation, Node 3 is isolating the man's skin tone.

            A node setup in preparation of subtracting the Bar sign from the                                     COLOR
            midtone isolation being used to add a partial blue tint

2 To reveal the controls you'll use to change how the key from Node 3 interacts with the key from
     Node 2, double-click the Key Mixer node to select it.

3 Open the Key palette; a list of all input links that are connected to the Key Mixer appears at
     the right.

The input list of the Key Mixer node

                                      Color|Chapter 146Combining Keys and Using Mattes                     3358
4 Within each list entry is the input name (Input Link 1, Input Link 2, etc.), a Matte control,        COLOR
     a Mask control, a gain parameter, and an offset parameter.
     To subtract Node 3's key from that of Node 2: Turn on both
     the Key Input Matte button and the Key Input Invert button for
     Input Link 2.

      Turning on Matte and Invert for Input Link 2
      to Output Node 3 subtracted from Node 2

     To subtract Node 2's key from that of Node 3: Turn on both
     the Key Input Matte button and the Key Input Invert button for
     Input Link 1.

      Turning on Matte and Invert for Input Link 1
      to Output Node 2 subtracted from Node 3

     To limit the output to the intersection of both keys: Turn on
     the Key Input Matte button for either Input Link 1 or Input Link 2.

Turning on Matte for Input Link 1 to output
the intersection of two mattes

                                             Color|Chapter 146Combining Keys and Using Mattes    3359
To invert the resulting matte you've created: Turn on the Output Link Invert button.

When you're finished, if you choose to subtract Node 3's key from that of Node 2, the result should
resemble the following screenshot.

                                                                                                           COLOR

      The result of subtracting a key of the man's face from a key of the overall
      midtones of the image, and using that to add a selective green tint

Adding Inputs to Key Mixer Nodes

New Key Mixer nodes have two key inputs by default. If necessary, additional inputs can be added in
order to combine even more keys with one another.

To add inputs to the Key Mixer:
   Drag the Key Output from a corrector node to the Key Mixer.
   Right-click a Key Mixer node, and choose Add One Input.

When combining three or more keys, the interaction of keys using the Key palette controls becomes
even more complex, but the rules outlined above still apply.

Color|Chapter 146Combining Keys and Using Mattes                                                     3360
Using the Key Palette                                                                                            COLOR

For example, the Key Input Invert control is always enabled when you add an Outside node, which is
why the Outside node applies adjustments to the inverse area of the previous node. If you turn this
control off, that node's key will exactly mirror the original key being fed to it from the previous node.

The controls that are available in the Key palette vary depending on what kind of node you
have selected:

     Corrector Nodes: Have three sets of parameters. Key Input parameters let you make
     adjustments to keys being fed through a node's Key Input connection. The Key Output
     parameters let you make adjustments to the key data being output by a node's Key Output
     connection, and includes the incredibly powerful Offset Gain parameter that governs the
     strength of that node's contribution to the overall grade. Finally, the Qualifier parameters let
     you make adjustments to the internal key created with the HSL Qualifier or Window controls.
     This functionality is covered more extensively in the next section.

     Ext Mattes: Have two sets of parameters. Transform parameters let you make geometric
     transformations to a matte so it fits the clip it's being applied to better. An Offset control
     lets you slip the sync between an external matte and the clip to which it's applied. This
     functionality is covered in the section on external mattes.

     Key Mixer Nodes: Have two sets of parameters that are dependent on which of the
     connections attached to a Key Mixer's key inputs is selected. Input parameters let you adjust
     how much of a contribution a key makes to the total key mix, and whether the contribution is
     additive or subtractive.

The Output parameters let you adjust the inversion and strength of the key that's output by the Key
Mixer. This functionality is described more extensively in the Key Mixer section.

Layer Mixer and Parallel Mixer nodes have no adjustable controls in the Key palette.

Using the Key Palette to Affect Corrector Nodes

When you open the Key palette for a selected Corrector node, you can adjust the
following parameters:

Key palette showing controls when a node is selected

Color|Chapter 146Combining Keys and Using Mattes                                                           3361
Key Input Controls                                                                                                   COLOR
   Input invert: Inverts the key being fed into the key input. Off by default.
   Input matte: Lets you switch the key input between Matte and Mask modes. In Matte mode (on by
     default) the key input combines via intersection with keys generated internally using the Qualifier
     or Windows palette. In Mask mode, the key input is added to the internal key instead.
   Gain: Controls the strength of the key connected to the key input.
   Offset: Controls the contrast of the key connected to the key input.
   Blur Radius: Blurs the key connected to the key input
   Blur H/V Ratio: Alters the horizontal/vertical ratio of the blur that's being applied to the key input.

Key Output Controls
   Qualifier invert: Inverts the overall key.
   Gain: Using the key output, this parameter governs the strength of that node's contribution to the
     overall grade. Setting Gain to 0 results in that node having no effect at all, while the default setting
     of 1.00 applies the full strength of any adjustments made with that node. The maximum setting of
     2.00 increases the intensity of any part of the key output that's less than 100 percent white. You
     can also use this parameter to keyframe the key output to fade that node's contribution in or out
     with one set of keyframes.
   Offset: Lets you adjust the contrast of the Output key. This has no effect if the entire key is 100
     percent white (a solid key).

Qualifier Controls
   Qualifier invert: Inverts the key created by that node's Qualifier palette.
   Qualifier matte: Lets you switch the interaction of the keys generated by the Qualifier and Window
     palettes between Matte and Mask modes. In Matte mode (the default), the Qualifier and Windows
     palettes combine via intersection. In Mask mode, they're added together instead.
   Gain: Lets you raise or lower the strength of the key generated by the Qualifier palette.
   Offset: Lets you adjust the contrast of the key generated by the Qualifier palette.

Using the Key Palette to Adjust Key Mixer Controls

When you open the Key palette for a selected Key Mixer node, you can adjust the following controls:

Key palette showing controls when a Key Mixer is selected

Color|Chapter 146Combining Keys and Using Mattes                                                               3362
   Input list: A list of every input that's connected to the Key Mixer. Each entry on the list has the            COLOR
     following controls:
     Input name: The name of each node connection attached to that key mixer, such as Input Link 1,
     Input Link 2, and so on.
     Input invert: Inverts the key being fed into this particular input. Off by default.
     Input mask: Lets you switch the key input between Matte and Mask modes. In Matte mode (on) the
     key input combines via intersection with other inputs connected to the Key mixer. In Mask mode
     (off by default), the key input is added to the other key inputs connected to the Key mixer.
     Gain parameter: Decreases or increases the intensity of that input matte's contribution to the
     resulting output matte.
     Offset parameter: Adjusts the contrast of that input matte's contribution to the resulting
     output matte.

   Output invert: Inverts the overall result of the various Input Link interactions.
   Gain: This parameter increases or reduces the strength of the resulting output key. Setting Gain

     to 0 results in all inputs being set to black, while the default setting of 1.00 outputs the combined
     mattes at full strength. The maximum setting of 2.00 increases the intensity of any part of the
     key output that's less than 100 percent white, which can have the practical effect of "growing"
     soft edges. You can also use this parameter to keyframe the key output to fade that node's
     contribution in or out with one set of keyframes.
   Offset: Lets you adjust the contrast of the Output key.

The Many Uses of Key Output Gain

Several of the techniques discussed in here and in "Secondary Qualifiers," can be further customized
using the Key Output Gain parameter, which makes it easy to control the strength of a node's effect on
your grade with a single adjustment. In the following example, two simple Serial nodes are applied to a
clip, with the first one expanding image contrast, and the second one using a variety of controls to add
some extreme warmth to the highlights.

      A tint applied only to the highlights of the image

     If you decided that you want to reduce the amount of warmth added by the second node
     without readjusting the controls you used to create the effect, you could open the Key palette
     and lower the Key Output Gain parameter to fade the effect with a single adjustment.

Color|Chapter 146Combining Keys and Using Mattes                                                            3363
Four versions of this grade shown using the Versions option of the Split Screen
controls, with Output Gain set to 1, .75, .5, and.25 for comparison

This principle also works for controlling the strength of individual nodes that are being combined in
parallel, that are combined using the Layer node, or for simply fading out the effect of any node in the
node tree you want to "turn down" a bit.

                                                                                                                COLOR

Color|Chapter 146Combining Keys and Using Mattes                                                          3364
Chapter 147                                                                                                  COLOR

Channel Splitting
and Image
Compositing

This chapter begins by showing node structures you can use to isolate, split apart,
convert, and recombine the image channels of clip in different ways. This includes
ways of using the additional image channels that are provided in some types
of media.

The second part of the chapter shows ways that you can do image compositing right in the
Color page, with techniques for using external mattes for compositing, and using qualifier keys to do
green- and blue-screen compositing against other layers in the Timeline.

Contents

Isolating, Splitting, and Converting Color Channels 3366
Enabling, Disabling, and Converting Node Channels 3366
Splitting Channels with the Splitter/Combiner Nodes 3368
Multi-Channel RED HDRx Support 3370
Introduction to Compositing Using the Alpha Output3373
Using a Qualifier Key to Create Transparency3373
Using a Matte to Create Transparency3377
Setting the Composite Mode in a Corrector Node3378
Using OFX Alpha Channels (Legacy) 3379

Color|Chapter 147Channel Splitting and Image Compositing                                               3365
Isolating, Splitting, and
Converting Color Channels

DaVinci Resolve provides two different methods of making channel-specific adjustments,
depending on whether you need to apply an adjustment to just one channel within a single node,
or apply separate adjustments to all three channels across several nodes.

Enabling, Disabling, and
Converting Node Channels

Within the contextual menu of each node in the Node Editor is a series of four options:

      Expanded choices for choosing a color space and gamma for image                                           COLOR
      processing within a node, and for disabling channels

While the ability to change the color space in which a particular node's operations work from the
RGB default has been available for many versions, the list of available color spaces was greatly
expanded in DaVinci Resolve 15 (all the previous options such as Lab (CIE), HSL, and YUV are still
there). Additionally, you have the option of choosing the gamma that node works with as well, with a
similarly long list of options.

Choosing a node-specific color space and gamma does not directly alter the image, as with the Color
Space Transform ResolveFX plugin. Instead, changing a node's color space and gamma alters what
type of image channels the red, green, and blue controls affect, and how the adjustments you make
within that node are applied. For example, this lets you make a temperature adjustment with a node's
gamma set to Linear, which in some instances may be mathematically advantageous.

Additionally, three checked Enable Channel 1­3 options let you turn individual channels off or on,
limiting which channel that node's adjustments will actually affect.

In the following example, you'll see how to use these features to selectively sharpen just the Y' (luma)
of an image without affecting the chroma, which can be a more subtle effect than simply sharpening
the entire image.

Color|Chapter 147Channel Splitting and Image Compositing                                                  3366
To use channel disabling and color space conversion to sharpen luma only:
1 Add a node with which to apply the sharpening you want to the current clip.
2 Right-click the new node, and choose YUV from the Color Space submenu of the contextual menu.
3 Apply sharpening by doing one of the following:

      Using that node's contextual menu, uncheck Enable Channel 2 and Enable Channel 3, which
        correspond to the U (Cb) and V (Cr) channels, leaving only Channel 1 (Y) enabled. Then, open the
        Blur palette, and drag the ganged Radius sliders down to sharpen the Y channel.

      You can also just open the Blur palette, ungang the Radius sliders, and drag the red slider down
        to sharpen the Y channel, since any control with three gangable sliders will automatically assign
        those sliders to whichever channels are used by the currently selected Color Space.

                                                                                                                 COLOR

                      (Before) The original image, (After) Sharpening
                      applied to only the Y' channel of the image

As you can see, while the Blur palette ordinarily provides separate R, G, and B controls that can be
unganged from one another, the Color Space submenu lets you apply sharpening to the channel
definitions of other colorspaces, providing many other corrective and creative possibilities with the
same controls.

Color|Chapter 147Channel Splitting and Image Compositing                                                   3367
Splitting Channels with
the Splitter/Combiner Nodes

Another method of applying corrections to individual color channels is using the Splitter/Combiner
nodes, which break the Red, Green, and Blue channels apart into separate node tree branches, each
capable of accepting multiple serial and parallel nodes of image adjustment. There are two ways you
can create a Splitter/Combiner node structure.

Methods of adding Splitter/Combiner nodes:
   To add a premade Splitter/Combiner node structure: Choose Color > Nodes > Add Splitter/
     Combiner Nodes (Option-Y). A Splitter and Combiner node appear already connected to three
     Corrector nodes, one for each color channel.
   To manually construct a Splitter/Combiner node structure: Right-click in any empty area of the
     Node Editor, and choose from the Add Node submenu to create a Splitter node, a Combiner node,
     and three Corrector nodes, wiring them together as necessary to create the desired effect.

                                                                                                           COLOR

The Splitter Combiner node structure

The Splitter node takes an incoming image and provides individual outputs for each color
channel (top/red, middle/green, bottom/blue). When you connect each of these outputs to a
Corrector node, that color channel automatically connects to all three internal channels of that
node, so that the default three nodes in a Splitter/Combiner structure are internally processing
red/red/red, green/green/green, blue/blue/blue. The Combiner then pulls the Red, Green, and
Blue channels out of each node connected to its three inputs, and reassembles them into a
single RGB image again. Of course, what happens in between the Splitter and Combiner is
entirely up to you.

One of the simplest ways of showing the possibilities of this node structure is to combine
it with Node Sizing in the Sizing palette. Using Node Sizing, you can correct for misaligned
channels in older archived video, or create channel misalignments for creative looks. In the
following example, a simple Node Sizing adjustment to a split Blue channel will create an
interesting "prism vignette" effect.

Color|Chapter 147Channel Splitting and Image Compositing                                             3368
To use Node Sizing on individually split channels:

1 Choose Nodes > Add Splitter/Combiner Node (or press Option-Y) to add a premade Splitter/
     Combiner node structure to the Node Editor.

2 Select the middle of the three Corrector nodes appearing in between the Splitter and Combiner
     nodes (Node 5 in the following screenshot).

3 Open the Sizing palette, choose Node Sizing from the Mode drop-down, and then raise the zoom
     parameter by a small amount; this example uses 1.014.

      Zooming just one color channel using the Splitter/Combiner nodes

     As you can see in the screenshot, just the Green channel has been zoomed in on across the entire
     image. This is only possible using Node Sizing. This is cool, but not quite what you need.

4 Open the Window palette, add a Circular window, turn on its Invert control, and transform it to be a
     very soft, horizontally aligned vignette. This limits the individual scaling done to the Green channel
     to just the outer edge of the image, similar to a lens with excessive chromatic aberration.

                                                                                                                   COLOR

The resulting channel split effect

You could easily keep going, applying varying amounts of zoom with different window shapes to
each of the other color channels, and perhaps adding some blur to enhance the effect, but this
example should show the creative potential available when using this technique.

Color|Chapter 147Channel Splitting and Image Compositing                                                     3369
Multi-Channel RED HDRx Support                                                                                COLOR

The RED EPIC, SCARLET, DRAGON, and WEAPON cameras are all capable of shooting in an
HDR mode that effectively "brackets" two different exposures of each frame. The resulting image
data stores two channels of image data: the regular exposure, and a "highlight exposure" that's
underexposed by a user-selectable margin (+3, +4, +5, or +6 -stops difference).
By default, the Input bar in the node graph feeds the regular exposure to your grade's node tree.
To take advantage of the additional "highlight" exposure, you can add an additional Source input to
the node graph that feeds a second stream of image data that you can mix with the regular exposure
in different ways.

     NOTE:You can also take advantage of the highlight exposure of RED HDRx media by
     enabling and adjusting the Magic Motion controls in the Camera Raw palette.

To set up a node tree combining the normal and highlight HDR versions:
1 Using the first default node (Node 1), grade the image to see if you even need to use the alternate

     exposure that's available. We'll assume for this example that you do. In this example, the sky of
     the default exposure is pretty blown out, but there may be detail that can be retrieved using the
     highlight exposure.

      Using HDRx images with the Layer Mixer

2 Create a Layer Mixer node by choosing Nodes > Add Layer (Option-L).
     Two nodes are created, a Layer Mixer node that's added after Node 1, and a third node (Node 3)
     that's connected to a second RGB input of the Layer Mixer node in parallel to Node 1.

The Source currently supplies two input, but you can add a second
source, which is the short exposure in the HDR image

Color|Chapter 147Channel Splitting and Image Compositing                                                3370
3 Right-click anywhere within the node graph (except on a node) and choose Add Source from the
     contextual menu.

     A second Source input appears underneath the first, which outputs the highlight exposure of the
     image as a separate image stream.

      A node tree that uses a Layer Mixer node to mix                                                          COLOR
      two Corrector nodes, each connected to separate
      outputs for the regular and highlight exposures

4 Delete the connection between the top Source input and Node 3, and then connect the bottom
     Source input to the RGB input of Node 3.

     Immediately, the image in the node thumbnail and Viewer updates to show the darker,
     underexposed version of the HDR image. This is because, by default, the Layer Mixer is mixing
     100% of Node 3 over Node 1.

5 Select Node 3 and use one of the following two procedures to create a useful combination of the
     two exposures:

     To create a mix of the two exposures, open the Key tab, and drag the Key Output Gain slider to
     lower the contribution of Node 3 to the overall image. Using dynamics (keyframing), this is a good
     way to animate a dissolve from the regular exposure to the highlight exposure if you're going from
     a dark environment to a bright environment in the same take and you want to create a smooth
     transition between both exposures.

Dissolving between the regular and highlight exposures
of RED HDRx media using the Key Output Gain slider of a
Corrector node connected to a Layer Mixer node

     TIP:You can also use the Blend Type and Blend Bias parameters in the Camera Raw
     palette to blend the two exposures without building a dedicated node tree.

To use the highlight exposure to selectively put detail back into the image (for example, to retrieve
blown-out windows), use a Power Window, HSL Qualification, or a combination of the two to
isolate the region you want to retrieve in Node 3. (Be careful if you're using HSL Qualification to
combine both exposures, as keyed edges can be tricky to blend.)

Color|Chapter 147Channel Splitting and Image Compositing                                                 3371
Isolating a region of the image to replace using
the highlight exposure image of a RED HDRx clip

                                    Final node display with isolations                                COLOR

A Note About RED HDRx Media and Performance

Since RED HDRx media records two complete streams of image data, DaVinci Resolve must
simultaneously decode two separate tracks whenever you add a second Source input. (If you
don't add the second Source input, only the first stream is decoded.)

Because of this, whether you're relying on your computer's CPU or GPU to decode RED
media, you'll get half the performance when using the highlight stream of an HDR clip.

To improve performance, you can enable the Smart Cache by choosing Playback > Render
Cache > Smart. This automatically caches all raw source clips to the current codec set in
the Render Cache Format parameter of the Master Settings panel of the Project Settings.
Alternatively, you can enable the User Cache, and cache all HDRx clips manually by right-
clicking them and choosing Render Cache Fusion Output > On. DaVinci Resolve renders
all cached clips while you're paused, so the next time you play a cached clip, it will play at
full speed.

If you regularly use RED HDRx media, multiple high-end GPU cards are recommended for
optimal decoding performance.

Color|Chapter 147Channel Splitting and Image Compositing                                        3372
Introduction to Compositing
Using the Alpha Output

While DaVinci Resolve can use the alpha channel of imported media for compositing, the Alpha
Output in the Node Editor is an optional output that you can turn on to create clip transparency using
operations inside DaVinci Resolve to create composites against other clips on lower video tracks.
There are many ways of using the Alpha Output, but this section will focus on three examples.

Using a Qualifier Key
to Create Transparency

In this first example, the Alpha Output will be used to composite a green screen clip with a
background plate.

                                                                                                              COLOR

A green screen clip, ready for compositing

In preparation for this composite, the background plate is on track V1 of the Timeline, and the
green screen clip has been superimposed on track V2.

A superimposed green screen clip on track V2 of the Timeline, above a
background plate on track V1, ready for compositing

Color|Chapter 147Channel Splitting and Image Compositing                                                3373
